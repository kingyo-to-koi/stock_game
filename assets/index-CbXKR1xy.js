(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();function S_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var pf={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function P0(){if(ny)return Ll;ny=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var iy;function B0(){return iy||(iy=1,pf.exports=P0()),pf.exports}var Yb=B0(),yf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function q0(){if(ry)return Tt;ry=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function M(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,rt={};function Z(C,K,nt){this.props=C,this.context=K,this.refs=rt,this.updater=nt||Q}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function At(){}At.prototype=Z.prototype;function Et(C,K,nt){this.props=C,this.context=K,this.refs=rt,this.updater=nt||Q}var gt=Et.prototype=new At;gt.constructor=Et,J(gt,Z.prototype),gt.isPureReactComponent=!0;var Ft=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function N(C,K,nt,W,lt,Dt){return nt=Dt.ref,{$$typeof:s,type:C,key:K,ref:nt!==void 0?nt:null,props:Dt}}function S(C,K){return N(C.type,K,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function O(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return K[nt]})}var I=/\/+/g;function U(C,K){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):K.toString(36)}function R(){}function re(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Wt(C,K,nt,W,lt){var Dt=typeof C;(Dt==="undefined"||Dt==="boolean")&&(C=null);var dt=!1;if(C===null)dt=!0;else switch(Dt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(C.$$typeof){case s:case e:dt=!0;break;case A:return dt=C._init,Wt(dt(C._payload),K,nt,W,lt)}}if(dt)return lt=lt(C),dt=W===""?"."+U(C,0):W,Ft(lt)?(nt="",dt!=null&&(nt=dt.replace(I,"$&/")+"/"),Wt(lt,K,nt,"",function(wn){return wn})):lt!=null&&(w(lt)&&(lt=S(lt,nt+(lt.key==null||C&&C.key===lt.key?"":(""+lt.key).replace(I,"$&/")+"/")+dt)),K.push(lt)),1;dt=0;var Ne=W===""?".":W+":";if(Ft(C))for(var kt=0;kt<C.length;kt++)W=C[kt],Dt=Ne+U(W,kt),dt+=Wt(W,K,nt,Dt,lt);else if(kt=M(C),typeof kt=="function")for(C=kt.call(C),kt=0;!(W=C.next()).done;)W=W.value,Dt=Ne+U(W,kt++),dt+=Wt(W,K,nt,Dt,lt);else if(Dt==="object"){if(typeof C.then=="function")return Wt(re(C),K,nt,W,lt);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return dt}function H(C,K,nt){if(C==null)return C;var W=[],lt=0;return Wt(C,W,"","",function(Dt){return K.call(nt,Dt,lt++)}),W}function tt(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function xt(){}return Tt.Children={map:H,forEach:function(C,K,nt){H(C,function(){K.apply(this,arguments)},nt)},count:function(C){var K=0;return H(C,function(){K++}),K},toArray:function(C){return H(C,function(K){return K})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Tt.Component=Z,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=Et,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return pt.H.useMemoCache(C)}},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cloneElement=function(C,K,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=J({},C.props),lt=C.key,Dt=void 0;if(K!=null)for(dt in K.ref!==void 0&&(Dt=void 0),K.key!==void 0&&(lt=""+K.key),K)!Mt.call(K,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&K.ref===void 0||(W[dt]=K[dt]);var dt=arguments.length-2;if(dt===1)W.children=nt;else if(1<dt){for(var Ne=Array(dt),kt=0;kt<dt;kt++)Ne[kt]=arguments[kt+2];W.children=Ne}return N(C.type,lt,void 0,void 0,Dt,W)},Tt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Tt.createElement=function(C,K,nt){var W,lt={},Dt=null;if(K!=null)for(W in K.key!==void 0&&(Dt=""+K.key),K)Mt.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(lt[W]=K[W]);var dt=arguments.length-2;if(dt===1)lt.children=nt;else if(1<dt){for(var Ne=Array(dt),kt=0;kt<dt;kt++)Ne[kt]=arguments[kt+2];lt.children=Ne}if(C&&C.defaultProps)for(W in dt=C.defaultProps,dt)lt[W]===void 0&&(lt[W]=dt[W]);return N(C,Dt,void 0,void 0,null,lt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:y,render:C}},Tt.isValidElement=w,Tt.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},Tt.memo=function(C,K){return{$$typeof:_,type:C,compare:K===void 0?null:K}},Tt.startTransition=function(C){var K=pt.T,nt={};pt.T=nt;try{var W=C(),lt=pt.S;lt!==null&&lt(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(xt,ot)}catch(Dt){ot(Dt)}finally{pt.T=K}},Tt.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},Tt.use=function(C){return pt.H.use(C)},Tt.useActionState=function(C,K,nt){return pt.H.useActionState(C,K,nt)},Tt.useCallback=function(C,K){return pt.H.useCallback(C,K)},Tt.useContext=function(C){return pt.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,K){return pt.H.useDeferredValue(C,K)},Tt.useEffect=function(C,K,nt){var W=pt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,K)},Tt.useId=function(){return pt.H.useId()},Tt.useImperativeHandle=function(C,K,nt){return pt.H.useImperativeHandle(C,K,nt)},Tt.useInsertionEffect=function(C,K){return pt.H.useInsertionEffect(C,K)},Tt.useLayoutEffect=function(C,K){return pt.H.useLayoutEffect(C,K)},Tt.useMemo=function(C,K){return pt.H.useMemo(C,K)},Tt.useOptimistic=function(C,K){return pt.H.useOptimistic(C,K)},Tt.useReducer=function(C,K,nt){return pt.H.useReducer(C,K,nt)},Tt.useRef=function(C){return pt.H.useRef(C)},Tt.useState=function(C){return pt.H.useState(C)},Tt.useSyncExternalStore=function(C,K,nt){return pt.H.useSyncExternalStore(C,K,nt)},Tt.useTransition=function(){return pt.H.useTransition()},Tt.version="19.1.1",Tt}var ay;function ed(){return ay||(ay=1,yf.exports=q0()),yf.exports}var k0=ed();const Xb=S_(k0);var _f={exports:{}},zl={},vf={exports:{}},Ef={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function H0(){return sy||(sy=1,(function(s){function e(H,tt){var ot=H.length;H.push(tt);t:for(;0<ot;){var xt=ot-1>>>1,C=H[xt];if(0<u(C,tt))H[xt]=tt,H[ot]=C,ot=xt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],ot=H.pop();if(ot!==tt){H[0]=ot;t:for(var xt=0,C=H.length,K=C>>>1;xt<K;){var nt=2*(xt+1)-1,W=H[nt],lt=nt+1,Dt=H[lt];if(0>u(W,ot))lt<C&&0>u(Dt,W)?(H[xt]=Dt,H[lt]=ot,xt=lt):(H[xt]=W,H[nt]=ot,xt=nt);else if(lt<C&&0>u(Dt,ot))H[xt]=Dt,H[lt]=ot,xt=lt;else break t}}return tt}function u(H,tt){var ot=H.sortIndex-tt.sortIndex;return ot!==0?ot:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,D=null,M=3,Q=!1,J=!1,rt=!1,Z=!1,At=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Ft(H){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=H)a(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function pt(H){if(rt=!1,Ft(H),!J)if(i(v)!==null)J=!0,Mt||(Mt=!0,U());else{var tt=i(_);tt!==null&&Wt(pt,tt.startTime-H)}}var Mt=!1,N=-1,S=5,w=-1;function O(){return Z?!0:!(s.unstable_now()-w<S)}function I(){if(Z=!1,Mt){var H=s.unstable_now();w=H;var tt=!0;try{t:{J=!1,rt&&(rt=!1,Et(N),N=-1),Q=!0;var ot=M;try{e:{for(Ft(H),D=i(v);D!==null&&!(D.expirationTime>H&&O());){var xt=D.callback;if(typeof xt=="function"){D.callback=null,M=D.priorityLevel;var C=xt(D.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){D.callback=C,Ft(H),tt=!0;break e}D===i(v)&&a(v),Ft(H)}else a(v);D=i(v)}if(D!==null)tt=!0;else{var K=i(_);K!==null&&Wt(pt,K.startTime-H),tt=!1}}break t}finally{D=null,M=ot,Q=!1}tt=void 0}}finally{tt?U():Mt=!1}}}var U;if(typeof gt=="function")U=function(){gt(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,re=R.port2;R.port1.onmessage=I,U=function(){re.postMessage(null)}}else U=function(){At(I,0)};function Wt(H,tt){N=At(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var tt=3;break;default:tt=M}var ot=M;M=tt;try{return H()}finally{M=ot}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=M;M=H;try{return tt()}finally{M=ot}},s.unstable_scheduleCallback=function(H,tt,ot){var xt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?xt+ot:xt):ot=xt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,H={id:A++,callback:tt,priorityLevel:H,startTime:ot,expirationTime:C,sortIndex:-1},ot>xt?(H.sortIndex=ot,e(_,H),i(v)===null&&H===i(_)&&(rt?(Et(N),N=-1):rt=!0,Wt(pt,ot-xt))):(H.sortIndex=C,e(v,H),J||Q||(J=!0,Mt||(Mt=!0,U()))),H},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(H){var tt=M;return function(){var ot=M;M=tt;try{return H.apply(this,arguments)}finally{M=ot}}}})(Ef)),Ef}var ly;function j0(){return ly||(ly=1,vf.exports=H0()),vf.exports}var Tf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function G0(){if(uy)return He;uy=1;var s=ed();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:D==null?null:""+D,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},He.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},He.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},He.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},He.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,D=y(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:D,integrity:M,fetchPriority:Q}):A==="script"&&a.d.X(v,{crossOrigin:D,integrity:M,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},He.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},He.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,D=y(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},He.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},He.requestFormReset=function(v){a.d.r(v)},He.unstable_batchedUpdates=function(v,_){return v(_)},He.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.1",He}var oy;function Q0(){if(oy)return Tf.exports;oy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Tf.exports=G0(),Tf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function F0(){if(cy)return zl;cy=1;var s=j0(),e=ed(),i=Q0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return y(c),t;if(f===l)return y(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===r){p=!0,r=c,l=f;break}if(E===l){p=!0,l=c,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=c;break}if(E===l){p=!0,l=f,r=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),At=Symbol.for("react.provider"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case Z:return"Profiler";case rt:return"StrictMode";case pt:return"Suspense";case Mt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case gt:return(t.displayName||"Context")+".Provider";case Et:return(t._context.displayName||"Context")+".Consumer";case Ft:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:re(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return re(t(n))}catch{}}return null}var Wt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},xt=[],C=-1;function K(t){return{current:t}}function nt(t){0>C||(t.current=xt[C],xt[C]=null,C--)}function W(t,n){C++,xt[C]=t.current,t.current=n}var lt=K(null),Dt=K(null),dt=K(null),Ne=K(null);function kt(t,n){switch(W(dt,n),W(Dt,t),W(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ip(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ip(n),t=Np(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(lt),W(lt,t)}function wn(){nt(lt),nt(Dt),nt(dt)}function Is(t){t.memoizedState!==null&&W(Ne,t);var n=lt.current,r=Np(n,t.type);n!==r&&(W(Dt,t),W(lt,r))}function Ta(t){Dt.current===t&&(nt(lt),nt(Dt)),Ne.current===t&&(nt(Ne),Nl._currentValue=ot)}var Aa=Object.prototype.hasOwnProperty,Vr=s.unstable_scheduleCallback,Sa=s.unstable_cancelCallback,pc=s.unstable_shouldYield,Ns=s.unstable_requestPaint,$e=s.unstable_now,ou=s.unstable_getCurrentPriorityLevel,Ee=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,li=s.unstable_NormalPriority,yc=s.unstable_LowPriority,Os=s.unstable_IdlePriority,_c=s.log,Ir=s.unstable_setDisableYieldValue,Ni=null,Be=null;function dn(t){if(typeof _c=="function"&&Ir(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Ni,t)}catch{}}var Fe=Math.clz32?Math.clz32:hu,vc=Math.log,cu=Math.LN2;function hu(t){return t>>>=0,t===0?32:31-(vc(t)/cu|0)|0}var qn=256,Oi=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mn(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(p&=E,p!==0?c=Dn(p):r||(r=E&~t,r!==0&&(c=Dn(r))))):(E=l&~f,E!==0?c=Dn(E):p!==0?c=Dn(p):r||(r=l&~t,r!==0&&(c=Dn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Mi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ba(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var t=qn;return qn<<=1,(qn&4194048)===0&&(qn=256),t}function xi(){var t=Oi;return Oi<<=1,(Oi&62914560)===0&&(Oi=4194304),t}function Ra(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function le(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function fu(t,n,r,l,c,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=p&~r;0<r;){var j=31-Fe(r),Y=1<<j;E[j]=0,b[j]=-1;var B=P[j];if(B!==null)for(P[j]=null,j=0;j<B.length;j++){var q=B[j];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&Ui(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Ui(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Li(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Fe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function xs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Us(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ui(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Zp(t.type))}function Ec(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var kn=Math.random().toString(36).slice(2),ue="__reactFiber$"+kn,Oe="__reactProps$"+kn,oi="__reactContainer$"+kn,Nr="__reactEvents$"+kn,Or="__reactListeners$"+kn,Tc="__reactHandles$"+kn,Cn="__reactResources$"+kn,zi="__reactMarker$"+kn;function wa(t){delete t[ue],delete t[Oe],delete t[Nr],delete t[Or],delete t[Tc]}function Hn(t){var n=t[ue];if(n)return n;for(var r=t.parentNode;r;){if(n=r[oi]||r[ue]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Up(t);t!==null;){if(r=t[ue])return r;t=Up(t)}return n}t=r,r=t.parentNode}return null}function jn(t){if(t=t[ue]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Pi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Bi(t){var n=t[Cn];return n||(n=t[Cn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[zi]=!0}var du=new Set,Mr={};function Gn(t,n){Qn(t,n),Qn(t+"Capture",n)}function Qn(t,n){for(Mr[t]=n,t=0;t<n.length;t++)du.add(n[t])}var xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fn={},Da={};function Ac(t){return Aa.call(Da,t)?!0:Aa.call(Fn,t)?!1:xr.test(t)?Da[t]=!0:(Fn[t]=!0,!1)}function Ur(t,n,r){if(Ac(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Lr(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function gn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var zr,Ca;function ci(t){if(zr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);zr=n&&n[1]||"",Ca=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+t+Ca}var Va=!1;function Ia(t,n){if(!t||Va)return"";Va=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var B=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){B=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){B=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var b=p.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var j=`
`+b[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=c);break}}}finally{Va=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ci(r):""}function Sc(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Ia(t.type,!1);case 11:return Ia(t.type.render,!1);case 1:return Ia(t.type,!0);case 31:return ci("Activity");default:return""}}function Vn(t){try{var n="";do n+=Sc(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ee(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pr(t){var n=qi(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ki(t){t._valueTracker||(t._valueTracker=Pr(t))}function Ht(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=qi(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Br=/[\n"\\]/g;function we(t){return t.replace(Br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ls(t,n,r,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ee(n)):t.value!==""+ee(n)&&(t.value=""+ee(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ps(t,p,ee(n)):r!=null?Ps(t,p,ee(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ee(E):t.removeAttribute("name")}function zs(t,n,r,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+ee(r):"",n=n!=null?""+ee(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Ps(t,n,r){n==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Hi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+ee(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function mu(t,n,r){if(n!=null&&(n=""+ee(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+ee(r):""}function gu(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Wt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=ee(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var fi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||fi.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function qs(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Bs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Bs(t,f,n[f])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function In(t){return yu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ks=null;function Hs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,Ye=null;function _u(t){var n=jn(t);if(n&&(t=n.stateNode)){var r=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ls(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+we(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(a(90));Ls(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ht(l)}break t;case"textarea":mu(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Hi(t,!!r.multiple,n,!1)}}}var qr=!1;function kr(t,n,r){if(qr)return t(n,r);qr=!0;try{var l=t(n);return l}finally{if(qr=!1,(ji!==null||Ye!==null)&&(lo(),ji&&(n=ji,t=Ye,Ye=ji=null,_u(n),t)))for(n=0;n<t.length;n++)_u(t[n])}}function Gi(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Oe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Xe=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),di=!1;if(Xe)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){di=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{di=!1}var yn=null,Xt=null,Oa=null;function vu(){if(Oa)return Oa;var t,n=Xt,r=n.length,l,c="value"in yn?yn.value:yn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===c[f-l];l++);return Oa=c.slice(t,1<l?1-l:void 0)}function Hr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jr(){return!0}function js(){return!1}function Te(t){function n(r,l,c,f,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jr:js,this.isPropagationStopped=js,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),n}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=Te(qe),Qr=A({},qe,{view:0,detail:0}),Fr=Te(Qr),Ma,Yr,Yn,Xr=A({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Ma=t.screenX-Yn.screenX,Yr=t.screenY-Yn.screenY):Yr=Ma=0,Yn=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:Yr}}),Kr=Te(Xr),bc=A({},Xr,{dataTransfer:0}),Eu=Te(bc),Zr=A({},Qr,{relatedTarget:0}),xa=Te(Zr),Tu=A({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=Te(Tu),Qs=A({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=Te(Qs),Ua=A({},qe,{data:0}),Fs=Te(Ua),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bu[t])?!!n[t]:!1}function La(){return Ru}var wu=A({},Qr,{key:function(t){if(t.key){var n=Su[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),za=Te(wu),Ke=A({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ys=Te(Ke),Du=A({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),Fi=Te(Du),o=A({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Te(o),g=A({},Xr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T=Te(g),z=A({},qe,{newState:0,oldState:0}),k=Te(z),$=[9,13,27,32],_t=Xe&&"CompositionEvent"in window,$t=null;Xe&&"documentMode"in document&&($t=document.documentMode);var Pt=Xe&&"TextEvent"in window&&!$t,ce=Xe&&(!_t||$t&&8<$t&&11>=$t),rn=" ",Xn=!1;function Nn(t,n){switch(t){case"keyup":return $.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mn=!1;function Xs(t,n){switch(t){case"compositionend":return On(n);case"keypress":return n.which!==32?null:(Xn=!0,rn);case"textInput":return t=n.data,t===rn&&Xn?null:t;default:return null}}function hE(t,n){if(Mn)return t==="compositionend"||!_t&&Nn(t,n)?(t=vu(),Oa=Xt=yn=null,Mn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ce&&n.locale!=="ko"?null:n.data;default:return null}}var fE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!fE[t.type]:n==="textarea"}function Qd(t,n,r,l){ji?Ye?Ye.push(l):Ye=[l]:ji=l,n=mo(n,"onChange"),0<n.length&&(r=new Gr("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ks=null,Zs=null;function dE(t){Rp(t,0)}function Cu(t){var n=Pi(t);if(Ht(n))return t}function Fd(t,n){if(t==="change")return n}var Yd=!1;if(Xe){var Rc;if(Xe){var wc="oninput"in document;if(!wc){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),wc=typeof Xd.oninput=="function"}Rc=wc}else Rc=!1;Yd=Rc&&(!document.documentMode||9<document.documentMode)}function Kd(){Ks&&(Ks.detachEvent("onpropertychange",Zd),Zs=Ks=null)}function Zd(t){if(t.propertyName==="value"&&Cu(Zs)){var n=[];Qd(n,Zs,t,Hs(t)),kr(dE,n)}}function mE(t,n,r){t==="focusin"?(Kd(),Ks=n,Zs=r,Ks.attachEvent("onpropertychange",Zd)):t==="focusout"&&Kd()}function gE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Zs)}function pE(t,n){if(t==="click")return Cu(n)}function yE(t,n){if(t==="input"||t==="change")return Cu(n)}function _E(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:_E;function $s(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Aa.call(n,c)||!an(t[c],n[c]))return!1}return!0}function $d(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jd(t,n){var r=$d(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=$d(r)}}function Wd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Wd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=hi(t.document)}return n}function Dc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var vE=Xe&&"documentMode"in document&&11>=document.documentMode,Pa=null,Cc=null,Js=null,Vc=!1;function em(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vc||Pa==null||Pa!==hi(l)||(l=Pa,"selectionStart"in l&&Dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Js&&$s(Js,l)||(Js=l,l=mo(Cc,"onSelect"),0<l.length&&(n=new Gr("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Pa)))}function $r(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ba={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Ic={},nm={};Xe&&(nm=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Jr(t){if(Ic[t])return Ic[t];if(!Ba[t])return t;var n=Ba[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in nm)return Ic[t]=n[r];return t}var im=Jr("animationend"),rm=Jr("animationiteration"),am=Jr("animationstart"),EE=Jr("transitionrun"),TE=Jr("transitionstart"),AE=Jr("transitioncancel"),sm=Jr("transitionend"),lm=new Map,Nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nc.push("scrollEnd");function xn(t,n){lm.set(t,n),Gn(n,[t])}var um=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=um.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Vn(n)},um.set(t,n),n)}return{value:t,source:n,stack:Vn(n)}}var vn=[],qa=0,Oc=0;function Vu(){for(var t=qa,n=Oc=qa=0;n<t;){var r=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&om(r,c,f)}}function Iu(t,n,r,l){vn[qa++]=t,vn[qa++]=n,vn[qa++]=r,vn[qa++]=l,Oc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Mc(t,n,r,l){return Iu(t,n,r,l),Nu(t)}function ka(t,n){return Iu(t,null,null,n),Nu(t)}function om(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Fe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Nu(t){if(50<Sl)throw Sl=0,Bh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ha={};function SE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new SE(t,n,r,l)}function xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function cm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,r,l,c,f){var p=0;if(l=t,typeof t=="function")xc(t)&&(p=1);else if(typeof t=="string")p=R0(t,r,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=sn(31,r,n,c),t.elementType=w,t.lanes=f,t;case J:return Wr(r.children,c,f,n);case rt:p=8,c|=24;break;case Z:return t=sn(12,r,n,c|2),t.elementType=Z,t.lanes=f,t;case pt:return t=sn(13,r,n,c),t.elementType=pt,t.lanes=f,t;case Mt:return t=sn(19,r,n,c),t.elementType=Mt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case At:case gt:p=10;break t;case Et:p=9;break t;case Ft:p=11;break t;case N:p=14;break t;case S:p=16,l=null;break t}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=sn(p,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Wr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function Uc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function Lc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ja=[],Ga=0,Mu=null,xu=0,En=[],Tn=0,ta=null,pi=1,yi="";function ea(t,n){ja[Ga++]=xu,ja[Ga++]=Mu,Mu=t,xu=n}function hm(t,n,r){En[Tn++]=pi,En[Tn++]=yi,En[Tn++]=ta,ta=t;var l=pi;t=yi;var c=32-Fe(l)-1;l&=~(1<<c),r+=1;var f=32-Fe(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,pi=1<<32-Fe(n)+c|r<<c|l,yi=f+t}else pi=1<<f|r<<c|l,yi=t}function zc(t){t.return!==null&&(ea(t,1),hm(t,1,0))}function Pc(t){for(;t===Mu;)Mu=ja[--Ga],ja[Ga]=null,xu=ja[--Ga],ja[Ga]=null;for(;t===ta;)ta=En[--Tn],En[Tn]=null,yi=En[--Tn],En[Tn]=null,pi=En[--Tn],En[Tn]=null}var Ze=null,ae=null,Lt=!1,na=null,Kn=!1,Bc=Error(a(519));function ia(t){var n=Error(a(418,""));throw el(_n(n,t)),Bc}function fm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ue]=t,n[Oe]=l,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(r=0;r<Rl.length;r++)wt(Rl[r],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),zs(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ki(n);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),gu(n,l.value,l.defaultValue,l.children),ki(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Vp(n.textContent,r)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=go),n=!0):n=!1,n||ia(t)}function dm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Ze=Ze.return}}function Ws(t){if(t!==Ze)return!1;if(!Lt)return dm(t),Lt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||ef(t.type,t.memoizedProps)),r=!r),r&&ae&&ia(t),dm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=Ln(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,ur(t.type)?(t=sf,sf=null,ae=t):ae=n):ae=Ze?Ln(t.stateNode.nextSibling):null;return!0}function tl(){ae=Ze=null,Lt=!1}function mm(){var t=na;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),na=null),t}function el(t){na===null?na=[t]:na.push(t)}var qc=K(null),ra=null,_i=null;function Yi(t,n,r){W(qc,n._currentValue),n._currentValue=r}function vi(t){t._currentValue=qc.current,nt(qc)}function kc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Hc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),kc(f.return,r,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),kc(p,r,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function nl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;an(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ne.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}c=c.return}t!==null&&Hc(n,t,r,l),n.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){ra=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return gm(ra,t)}function Lu(t,n){return ra===null&&aa(t),gm(t,n)}function gm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},_i===null){if(t===null)throw Error(a(308));_i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _i=_i.next=n;return r}var bE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},RE=s.unstable_scheduleCallback,wE=s.unstable_NormalPriority,Ae={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new bE,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&RE(wE,function(){t.controller.abort()})}var rl=null,Gc=0,Qa=0,Fa=null;function DE(t,n){if(rl===null){var r=rl=[];Gc=0,Qa=Fh(),Fa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Gc++,n.then(pm,pm),n}function pm(){if(--Gc===0&&rl!==null){Fa!==null&&(Fa.status="fulfilled");var t=rl;rl=null,Qa=0,Fa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function CE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var ym=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&DE(t,n),ym!==null&&ym(t,n)};var sa=K(null);function Qc(){var t=sa.current;return t!==null?t:Kt.pooledCache}function zu(t,n){n===null?W(sa,sa.current):W(sa,n.pool)}function _m(){var t=Qc();return t===null?null:{parent:Ae._currentValue,pool:t}}var al=Error(a(460)),vm=Error(a(474)),Pu=Error(a(542)),Fc={then:function(){}};function Em(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bu(){}function Tm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Bu,Bu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sm(t),t;default:if(typeof n.status=="string")n.then(Bu,Bu);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sm(t),t}throw sl=n,al}}var sl=null;function Am(){if(sl===null)throw Error(a(459));var t=sl;return sl=null,t}function Sm(t){if(t===al||t===Pu)throw Error(a(483))}var Xi=!1;function Yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Nu(t),om(t,null,r),n}return Iu(t,l,n,r),Nu(t)}function ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Li(t,r)}}function Kc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Zc=!1;function ul(){if(Zc){var t=Fa;if(t!==null)throw t}}function ol(t,n,r,l){Zc=!1;var c=t.updateQueue;Xi=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,p===null?f=P:p.next=P,p=b;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==p&&(E===null?j.firstBaseUpdate=P:E.next=P,j.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;p=0,j=P=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(It&B)===B:(l&B)===B){B!==0&&B===Qa&&(Zc=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=t,ct=E;B=n;var Qt=r;switch(ct.tag){case 1:if(mt=ct.payload,typeof mt=="function"){Y=mt.call(Qt,Y,B);break t}Y=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ct.payload,B=typeof mt=="function"?mt.call(Qt,Y,B):mt,B==null)break t;Y=A({},Y,B);break t;case 2:Xi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(P=j=q,b=Y):j=j.next=q,p|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);j===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),rr|=p,t.lanes=p,t.memoizedState=Y}}function bm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Rm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)bm(r[t],n)}var Ya=K(null),qu=K(0);function wm(t,n){t=wi,W(qu,t),W(Ya,n),wi=t|n.baseLanes}function $c(){W(qu,wi),W(Ya,Ya.current)}function Jc(){wi=qu.current,nt(Ya),nt(qu)}var $i=0,St=null,jt=null,ge=null,ku=!1,Xa=!1,la=!1,Hu=0,cl=0,Ka=null,VE=0;function he(){throw Error(a(321))}function Wc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function th(t,n,r,l,c,f){return $i=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?og:cg,la=!1,f=r(l,c),la=!1,Xa&&(f=Cm(n,r,l,c)),Dm(t),f}function Dm(t){H.H=Xu;var n=jt!==null&&jt.next!==null;if($i=0,ge=jt=St=null,ku=!1,cl=0,Ka=null,n)throw Error(a(300));t===null||De||(t=t.dependencies,t!==null&&Uu(t)&&(De=!0))}function Cm(t,n,r,l){St=t;var c=0;do{if(Xa&&(Ka=null),cl=0,Xa=!1,25<=c)throw Error(a(301));if(c+=1,ge=jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=LE,f=n(r,l)}while(Xa);return f}function IE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(St.flags|=1024),n}function eh(){var t=Hu!==0;return Hu=0,t}function nh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ih(t){if(ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ku=!1}$i=0,ge=jt=St=null,Xa=!1,cl=Hu=0,Ka=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?St.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(jt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var n=ge===null?St.memoizedState:ge.next;if(n!==null)ge=n,jt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},ge===null?St.memoizedState=ge=t:ge=ge.next=t}return ge}function rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Ka===null&&(Ka=[]),t=Tm(Ka,t,n),n=St,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?og:cg),t}function ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===gt)return ke(t)}throw Error(a(438,String(t)))}function ah(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=rh(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function Gu(t){var n=pe();return sh(n,jt,t)}function sh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,b=null,P=n,j=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(It&Y)===Y:($i&Y)===Y){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Qa&&(j=!0);else if(($i&B)===B){P=P.next,B===Qa&&(j=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Y,p=f):b=b.next=Y,St.lanes|=B,rr|=B;Y=P.action,la&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,p=f):b=b.next=B,St.lanes|=Y,rr|=Y;P=P.next}while(P!==null&&P!==n);if(b===null?p=f:b.next=E,!an(f,t.memoizedState)&&(De=!0,j&&(r=Fa,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function lh(t){var n=pe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);an(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Vm(t,n,r){var l=St,c=pe(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!an((jt||c).memoizedState,r);p&&(c.memoizedState=r,De=!0),c=c.queue;var E=Om.bind(null,l,c,t);if(fl(2048,8,E,[t]),c.getSnapshot!==n||p||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Za(9,Qu(),Nm.bind(null,l,c,r,n),null),Kt===null)throw Error(a(349));f||($i&124)!==0||Im(l,n,r)}return r}function Im(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=rh(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Nm(t,n,r,l){n.value=r,n.getSnapshot=l,Mm(n)&&xm(t)}function Om(t,n,r){return r(function(){Mm(n)&&xm(t)})}function Mm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function xm(t){var n=ka(t,2);n!==null&&hn(n,t,2)}function uh(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),la){dn(!0);try{r()}finally{dn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Um(t,n,r,l){return t.baseState=r,sh(t,jt,typeof l=="function"?l:Ei)}function NE(t,n,r,l,c){if(Yu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Lm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Lm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(c,l),b=H.S;b!==null&&b(p,E),zm(t,n,E)}catch(P){oh(t,n,P)}finally{H.T=f}}else try{f=r(c,l),zm(t,n,f)}catch(P){oh(t,n,P)}}function zm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Pm(t,n,l)},function(l){return oh(t,n,l)}):Pm(t,n,r)}function Pm(t,n,r){n.status="fulfilled",n.value=r,Bm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Lm(t,r)))}function oh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Bm(n),n=n.next;while(n!==l)}t.action=null}function Bm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qm(t,n){return n}function km(t,n){if(Lt){var r=Kt.formState;if(r!==null){t:{var l=St;if(Lt){if(ae){e:{for(var c=ae,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Ln(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Ln(c.nextSibling),l=c.data==="F!";break t}}ia(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:n},r.queue=l,r=sg.bind(null,St,l),l.dispatch=r,l=uh(!1),f=mh.bind(null,St,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=NE.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Hm(t){var n=pe();return jm(n,jt,t)}function jm(t,n,r){if(n=sh(t,n,qm)[0],t=Gu(Ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(p){throw p===al?Pu:p}else l=n;n=pe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Za(9,Qu(),OE.bind(null,c,r),null)),[l,f,t]}function OE(t,n){t.action=n}function Gm(t){var n=pe(),r=jt;if(r!==null)return jm(n,r,t);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Za(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=rh(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Qu(){return{destroy:void 0,resource:void 0}}function Qm(){return pe().memoizedState}function Fu(t,n,r,l){var c=Je();l=l===void 0?null:l,St.flags|=t,c.memoizedState=Za(1|n,Qu(),r,l)}function fl(t,n,r,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;jt!==null&&l!==null&&Wc(l,jt.memoizedState.deps)?c.memoizedState=Za(n,f,r,l):(St.flags|=t,c.memoizedState=Za(1|n,f,r,l))}function Fm(t,n){Fu(8390656,8,t,n)}function Ym(t,n){fl(2048,8,t,n)}function Xm(t,n){return fl(4,2,t,n)}function Km(t,n){return fl(4,4,t,n)}function Zm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function $m(t,n,r){r=r!=null?r.concat([t]):null,fl(4,4,Zm.bind(null,n,t),r)}function ch(){}function Jm(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Wc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Wm(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Wc(n,l[1]))return l[0];if(l=t(),la){dn(!0);try{t()}finally{dn(!1)}}return r.memoizedState=[l,n],l}function hh(t,n,r){return r===void 0||($i&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=np(),St.lanes|=t,rr|=t,r)}function tg(t,n,r,l){return an(r,n)?r:Ya.current!==null?(t=hh(t,r,l),an(t,n)||(De=!0),t):($i&42)===0?(De=!0,t.memoizedState=r):(t=np(),St.lanes|=t,rr|=t,n)}function eg(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,mh(t,!1,n,r);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=CE(b,l);dl(t,n,j,cn(t))}else dl(t,n,l,cn(t))}catch(Y){dl(t,n,{then:function(){},status:"rejected",reason:Y},cn())}finally{tt.p=f,H.T=p}}function ME(){}function fh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=ng(t).queue;eg(t,c,n,ot,r===null?ME:function(){return ig(t),r(l)})}function ng(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ig(t){var n=ng(t).next.queue;dl(t,n,{},cn())}function dh(){return ke(Nl)}function rg(){return pe().memoizedState}function ag(){return pe().memoizedState}function xE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Ki(r);var l=Zi(n,t,r);l!==null&&(hn(l,n,r),ll(l,n,r)),n={cache:jc()},t.payload=n;return}n=n.return}}function UE(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(t)?lg(n,r):(r=Mc(t,n,r,l),r!==null&&(hn(r,t,l),ug(r,n,l)))}function sg(t,n,r){var l=cn();dl(t,n,r,l)}function dl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))lg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,p))return Iu(t,n,c,0),Kt===null&&Vu(),!1}catch{}finally{}if(r=Mc(t,n,c,l),r!==null)return hn(r,t,l),ug(r,n,l),!0}return!1}function mh(t,n,r,l){if(l={lane:2,revertLane:Fh(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(a(479))}else n=Mc(t,r,l,2),n!==null&&hn(n,t,2)}function Yu(t){var n=t.alternate;return t===St||n!==null&&n===St}function lg(t,n){Xa=ku=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ug(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Li(t,r)}}var Xu={readContext:ke,use:ju,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},og={readContext:ke,use:ju,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Fm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fu(4194308,4,Zm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fu(4194308,4,t,n)},useInsertionEffect:function(t,n){Fu(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(la){dn(!0);try{t()}finally{dn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var c=r(n);if(la){dn(!0);try{r(n)}finally{dn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=UE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=uh(t);var n=t.queue,r=sg.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:ch,useDeferredValue:function(t,n){var r=Je();return hh(r,t,n)},useTransition:function(){var t=uh(!1);return t=eg.bind(null,St,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=Je();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Kt===null)throw Error(a(349));(It&124)!==0||Im(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Fm(Om.bind(null,l,f,t),[t]),l.flags|=2048,Za(9,Qu(),Nm.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=Kt.identifierPrefix;if(Lt){var r=yi,l=pi;r=(l&~(1<<32-Fe(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=VE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:dh,useFormState:km,useActionState:km,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=mh.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:ah,useCacheRefresh:function(){return Je().memoizedState=xE.bind(null,St)}},cg={readContext:ke,use:ju,useCallback:Jm,useContext:ke,useEffect:Ym,useImperativeHandle:$m,useInsertionEffect:Xm,useLayoutEffect:Km,useMemo:Wm,useReducer:Gu,useRef:Qm,useState:function(){return Gu(Ei)},useDebugValue:ch,useDeferredValue:function(t,n){var r=pe();return tg(r,jt.memoizedState,t,n)},useTransition:function(){var t=Gu(Ei)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Vm,useId:rg,useHostTransitionStatus:dh,useFormState:Hm,useActionState:Hm,useOptimistic:function(t,n){var r=pe();return Um(r,jt,t,n)},useMemoCache:ah,useCacheRefresh:ag},LE={readContext:ke,use:ju,useCallback:Jm,useContext:ke,useEffect:Ym,useImperativeHandle:$m,useInsertionEffect:Xm,useLayoutEffect:Km,useMemo:Wm,useReducer:lh,useRef:Qm,useState:function(){return lh(Ei)},useDebugValue:ch,useDeferredValue:function(t,n){var r=pe();return jt===null?hh(r,t,n):tg(r,jt.memoizedState,t,n)},useTransition:function(){var t=lh(Ei)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Vm,useId:rg,useHostTransitionStatus:dh,useFormState:Gm,useActionState:Gm,useOptimistic:function(t,n){var r=pe();return jt!==null?Um(r,jt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ah,useCacheRefresh:ag},$a=null,ml=0;function Ku(t){var n=ml;return ml+=1,$a===null&&($a=[]),Tm($a,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Zu(t,n){throw n.$$typeof===D?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hg(t){var n=t._init;return n(t._payload)}function fg(t){function n(x,V){if(t){var L=x.deletions;L===null?(x.deletions=[V],x.flags|=16):L.push(V)}}function r(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=gi(x,V),x.index=0,x.sibling=null,x}function f(x,V,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<V?(x.flags|=67108866,V):L):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function p(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,L,G){return V===null||V.tag!==6?(V=Uc(L,x.mode,G),V.return=x,V):(V=c(V,L),V.return=x,V)}function b(x,V,L,G){var at=L.type;return at===J?j(x,V,L.props.children,G,L.key):V!==null&&(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&hg(at)===V.type)?(V=c(V,L.props),gl(V,L),V.return=x,V):(V=Ou(L.type,L.key,L.props,null,x.mode,G),gl(V,L),V.return=x,V)}function P(x,V,L,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Lc(L,x.mode,G),V.return=x,V):(V=c(V,L.children||[]),V.return=x,V)}function j(x,V,L,G,at){return V===null||V.tag!==7?(V=Wr(L,x.mode,G,at),V.return=x,V):(V=c(V,L),V.return=x,V)}function Y(x,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Uc(""+V,x.mode,L),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case M:return L=Ou(V.type,V.key,V.props,null,x.mode,L),gl(L,V),L.return=x,L;case Q:return V=Lc(V,x.mode,L),V.return=x,V;case S:var G=V._init;return V=G(V._payload),Y(x,V,L)}if(Wt(V)||U(V))return V=Wr(V,x.mode,L,null),V.return=x,V;if(typeof V.then=="function")return Y(x,Ku(V),L);if(V.$$typeof===gt)return Y(x,Lu(x,V),L);Zu(x,V)}return null}function B(x,V,L,G){var at=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return at!==null?null:E(x,V,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return L.key===at?b(x,V,L,G):null;case Q:return L.key===at?P(x,V,L,G):null;case S:return at=L._init,L=at(L._payload),B(x,V,L,G)}if(Wt(L)||U(L))return at!==null?null:j(x,V,L,G,null);if(typeof L.then=="function")return B(x,V,Ku(L),G);if(L.$$typeof===gt)return B(x,V,Lu(x,L),G);Zu(x,L)}return null}function q(x,V,L,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,E(V,x,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case M:return x=x.get(G.key===null?L:G.key)||null,b(V,x,G,at);case Q:return x=x.get(G.key===null?L:G.key)||null,P(V,x,G,at);case S:var bt=G._init;return G=bt(G._payload),q(x,V,L,G,at)}if(Wt(G)||U(G))return x=x.get(L)||null,j(V,x,G,at,null);if(typeof G.then=="function")return q(x,V,L,Ku(G),at);if(G.$$typeof===gt)return q(x,V,L,Lu(V,G),at);Zu(V,G)}return null}function mt(x,V,L,G){for(var at=null,bt=null,st=V,ht=V=0,Ve=null;st!==null&&ht<L.length;ht++){st.index>ht?(Ve=st,st=null):Ve=st.sibling;var Ut=B(x,st,L[ht],G);if(Ut===null){st===null&&(st=Ve);break}t&&st&&Ut.alternate===null&&n(x,st),V=f(Ut,V,ht),bt===null?at=Ut:bt.sibling=Ut,bt=Ut,st=Ve}if(ht===L.length)return r(x,st),Lt&&ea(x,ht),at;if(st===null){for(;ht<L.length;ht++)st=Y(x,L[ht],G),st!==null&&(V=f(st,V,ht),bt===null?at=st:bt.sibling=st,bt=st);return Lt&&ea(x,ht),at}for(st=l(st);ht<L.length;ht++)Ve=q(st,x,ht,L[ht],G),Ve!==null&&(t&&Ve.alternate!==null&&st.delete(Ve.key===null?ht:Ve.key),V=f(Ve,V,ht),bt===null?at=Ve:bt.sibling=Ve,bt=Ve);return t&&st.forEach(function(dr){return n(x,dr)}),Lt&&ea(x,ht),at}function ct(x,V,L,G){if(L==null)throw Error(a(151));for(var at=null,bt=null,st=V,ht=V=0,Ve=null,Ut=L.next();st!==null&&!Ut.done;ht++,Ut=L.next()){st.index>ht?(Ve=st,st=null):Ve=st.sibling;var dr=B(x,st,Ut.value,G);if(dr===null){st===null&&(st=Ve);break}t&&st&&dr.alternate===null&&n(x,st),V=f(dr,V,ht),bt===null?at=dr:bt.sibling=dr,bt=dr,st=Ve}if(Ut.done)return r(x,st),Lt&&ea(x,ht),at;if(st===null){for(;!Ut.done;ht++,Ut=L.next())Ut=Y(x,Ut.value,G),Ut!==null&&(V=f(Ut,V,ht),bt===null?at=Ut:bt.sibling=Ut,bt=Ut);return Lt&&ea(x,ht),at}for(st=l(st);!Ut.done;ht++,Ut=L.next())Ut=q(st,x,ht,Ut.value,G),Ut!==null&&(t&&Ut.alternate!==null&&st.delete(Ut.key===null?ht:Ut.key),V=f(Ut,V,ht),bt===null?at=Ut:bt.sibling=Ut,bt=Ut);return t&&st.forEach(function(z0){return n(x,z0)}),Lt&&ea(x,ht),at}function Qt(x,V,L,G){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case M:t:{for(var at=L.key;V!==null;){if(V.key===at){if(at=L.type,at===J){if(V.tag===7){r(x,V.sibling),G=c(V,L.props.children),G.return=x,x=G;break t}}else if(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&hg(at)===V.type){r(x,V.sibling),G=c(V,L.props),gl(G,L),G.return=x,x=G;break t}r(x,V);break}else n(x,V);V=V.sibling}L.type===J?(G=Wr(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=Ou(L.type,L.key,L.props,null,x.mode,G),gl(G,L),G.return=x,x=G)}return p(x);case Q:t:{for(at=L.key;V!==null;){if(V.key===at)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){r(x,V.sibling),G=c(V,L.children||[]),G.return=x,x=G;break t}else{r(x,V);break}else n(x,V);V=V.sibling}G=Lc(L,x.mode,G),G.return=x,x=G}return p(x);case S:return at=L._init,L=at(L._payload),Qt(x,V,L,G)}if(Wt(L))return mt(x,V,L,G);if(U(L)){if(at=U(L),typeof at!="function")throw Error(a(150));return L=at.call(L),ct(x,V,L,G)}if(typeof L.then=="function")return Qt(x,V,Ku(L),G);if(L.$$typeof===gt)return Qt(x,V,Lu(x,L),G);Zu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(r(x,V.sibling),G=c(V,L),G.return=x,x=G):(r(x,V),G=Uc(L,x.mode,G),G.return=x,x=G),p(x)):r(x,V)}return function(x,V,L,G){try{ml=0;var at=Qt(x,V,L,G);return $a=null,at}catch(st){if(st===al||st===Pu)throw st;var bt=sn(29,st,null,x.mode);return bt.lanes=G,bt.return=x,bt}finally{}}}var Ja=fg(!0),dg=fg(!1),An=K(null),Zn=null;function Ji(t){var n=t.alternate;W(Se,Se.current&1),W(An,t),Zn===null&&(n===null||Ya.current!==null||n.memoizedState!==null)&&(Zn=t)}function mg(t){if(t.tag===22){if(W(Se,Se.current),W(An,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else Wi()}function Wi(){W(Se,Se.current),W(An,An.current)}function Ti(t){nt(An),Zn===t&&(Zn=null),nt(Se)}var Se=K(0);function $u(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||af(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function gh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ph={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Ki(l);c.payload=n,r!=null&&(c.callback=r),n=Zi(t,c,l),n!==null&&(hn(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Ki(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Zi(t,c,l),n!==null&&(hn(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Ki(r);l.tag=2,n!=null&&(l.callback=n),n=Zi(t,l,r),n!==null&&(hn(n,t,r),ll(n,t,r))}};function gg(t,n,r,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!$s(r,l)||!$s(c,f):!0}function pg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&ph.enqueueReplaceState(n,n.state,null)}function ua(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function yg(t){Ju(t)}function _g(t){console.error(t)}function vg(t){Ju(t)}function Wu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Eg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function yh(t,n,r){return r=Ki(r),r.tag=3,r.payload={element:null},r.callback=function(){Wu(t,n)},r}function Tg(t){return t=Ki(t),t.tag=3,t}function Ag(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Eg(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Eg(n,r,l),typeof c!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function zE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&nl(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Zn===null?kh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Fc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),jh(t,l,c)),!1;case 22:return r.flags|=65536,l===Fc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),jh(t,l,c)),!1}throw Error(a(435,r.tag))}return jh(t,l,c),kh(),!1}if(Lt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Bc&&(t=Error(a(422),{cause:l}),el(_n(t,r)))):(l!==Bc&&(n=Error(a(423),{cause:l}),el(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=yh(t.stateNode,l,c),Kc(t,c),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=_n(f,r),Al===null?Al=[f]:Al.push(f),se!==4&&(se=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=yh(r.stateNode,l,t),Kc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ar===null||!ar.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Tg(c),Ag(c,t,r,l),Kc(r,c),!1}r=r.return}while(r!==null);return!1}var Sg=Error(a(461)),De=!1;function Me(t,n,r,l){n.child=t===null?dg(n,null,r,l):Ja(n,t.child,r,l)}function bg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return aa(n),l=th(t,n,r,p,f,c),E=eh(),t!==null&&!De?(nh(t,n,c),Ai(t,n,c)):(Lt&&E&&zc(n),n.flags|=1,Me(t,n,l,c),n.child)}function Rg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!xc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,wg(t,n,f,l,c)):(t=Ou(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Rh(t,c)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(p,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=gi(f,l),t.ref=n.ref,t.return=n,n.child=t}function wg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if($s(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Rh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return _h(t,n,r,l,c)}function Dg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Cg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?wm(n,f):$c(),mg(n);else return n.lanes=n.childLanes=536870912,Cg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(zu(n,f.cachePool),wm(n,f),Wi(),n.memoizedState=null):(t!==null&&zu(n,null),$c(),Wi());return Me(t,n,c,r),n.child}function Cg(t,n,r,l){var c=Qc();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&zu(n,null),$c(),mg(n),t!==null&&nl(t,n,l,!0),null}function to(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function _h(t,n,r,l,c){return aa(n),r=th(t,n,r,l,void 0,c),l=eh(),t!==null&&!De?(nh(t,n,c),Ai(t,n,c)):(Lt&&l&&zc(n),n.flags|=1,Me(t,n,r,c),n.child)}function Vg(t,n,r,l,c,f){return aa(n),n.updateQueue=null,r=Cm(n,l,r,c),Dm(t),l=eh(),t!==null&&!De?(nh(t,n,f),Ai(t,n,f)):(Lt&&l&&zc(n),n.flags|=1,Me(t,n,r,f),n.child)}function Ig(t,n,r,l,c){if(aa(n),n.stateNode===null){var f=Ha,p=r.contextType;typeof p=="object"&&p!==null&&(f=ke(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ph,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Yc(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?ke(p):Ha,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(gh(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&ph.enqueueReplaceState(f,f.state,null),ol(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ua(r,E);f.props=b;var P=f.context,j=r.contextType;p=Ha,typeof j=="object"&&j!==null&&(p=ke(j));var Y=r.getDerivedStateFromProps;j=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&pg(n,f,l,p),Xi=!1;var B=n.memoizedState;f.state=B,ol(n,l,f,c),ul(),P=n.memoizedState,E||B!==P||Xi?(typeof Y=="function"&&(gh(n,r,Y,l),P=n.memoizedState),(b=Xi||gg(n,r,b,l,B,P,p))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Xc(t,n),p=n.memoizedProps,j=ua(r,p),f.props=j,Y=n.pendingProps,B=f.context,P=r.contextType,b=Ha,typeof P=="object"&&P!==null&&(b=ke(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==b)&&pg(n,f,l,b),Xi=!1,B=n.memoizedState,f.state=B,ol(n,l,f,c),ul();var q=n.memoizedState;p!==Y||B!==q||Xi||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof E=="function"&&(gh(n,r,E,l),q=n.memoizedState),(j=Xi||gg(n,r,j,l,B,q,b)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=j):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,to(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ja(n,t.child,null,c),n.child=Ja(n,null,r,c)):Me(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function Ng(t,n,r,l){return tl(),n.flags|=256,Me(t,n,r,l),n.child}var vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eh(t){return{baseLanes:t,cachePool:_m()}}function Th(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function Og(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(c?Ji(n):Wi(),Lt){var E=ae,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Ln(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ta!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ae=null,b=!0):b=!1}b||ia(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return af(E)?n.lanes=32:n.lanes=536870912,null;Ti(n)}return E=l.children,l=l.fallback,c?(Wi(),c=n.mode,E=eo({mode:"hidden",children:E},c),l=Wr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Eh(r),c.childLanes=Th(t,p,r),n.memoizedState=vh,l):(Ji(n),Ah(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Ji(n),n.flags&=-257,n=Sh(t,n,r)):n.memoizedState!==null?(Wi(),n.child=t.child,n.flags|=128,n=null):(Wi(),c=l.fallback,E=n.mode,l=eo({mode:"visible",children:l.children},E),c=Wr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ja(n,t.child,null,r),l=n.child,l.memoizedState=Eh(r),l.childLanes=Th(t,p,r),n.memoizedState=vh,n=c);else if(Ji(n),af(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,el({value:l,source:null,stack:null}),n=Sh(t,n,r)}else if(De||nl(t,n,r,!1),p=(r&t.childLanes)!==0,De||p){if(p=Kt,p!==null&&(l=r&-r,l=(l&42)!==0?1:xs(l),l=(l&(p.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,ka(t,l),hn(p,t,l),Sg;E.data==="$?"||kh(),n=Sh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=Ln(E.nextSibling),Ze=n,Lt=!0,na=null,Kn=!1,t!==null&&(En[Tn++]=pi,En[Tn++]=yi,En[Tn++]=ta,pi=t.id,yi=t.overflow,ta=n),n=Ah(n,l.children),n.flags|=4096);return n}return c?(Wi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=gi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=gi(P,c):(c=Wr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Eh(r):(b=E.cachePool,b!==null?(P=Ae._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=_m(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Th(t,p,r),n.memoizedState=vh,l):(Ji(n),r=t.child,t=r.sibling,r=gi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Ah(t,n){return n=eo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function eo(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sh(t,n,r){return Ja(n,t.child,null,r),t=Ah(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Mg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),kc(t.return,n,r)}function bh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function xg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Me(t,n,l.children,r),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mg(t,r,n);else if(t.tag===19)Mg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Se,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&$u(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),bh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&$u(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}bh(n,!0,r,null,f);break;case"together":bh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),rr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(nl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=gi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=gi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Rh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function PE(t,n,r){switch(n.tag){case 3:kt(n,n.stateNode.containerInfo),Yi(n,Ae,t.memoizedState.cache),tl();break;case 27:case 5:Is(n);break;case 4:kt(n,n.stateNode.containerInfo);break;case 10:Yi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ji(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Og(t,n,r):(Ji(n),t=Ai(t,n,r),t!==null?t.sibling:null);Ji(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(nl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return xg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,Dg(t,n,r);case 24:Yi(n,Ae,t.memoizedState.cache)}return Ai(t,n,r)}function Ug(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Rh(t,r)&&(n.flags&128)===0)return De=!1,PE(t,n,r);De=(t.flags&131072)!==0}else De=!1,Lt&&(n.flags&1048576)!==0&&hm(n,xu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")xc(l)?(t=ua(l,t),n.tag=1,n=Ig(null,n,l,t,r)):(n.tag=0,n=_h(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Ft){n.tag=11,n=bg(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=Rg(null,n,l,t,r);break t}}throw n=re(l)||l,Error(a(306,n,""))}}return n;case 0:return _h(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ua(l,n.pendingProps),Ig(t,n,l,c,r);case 3:t:{if(kt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Xc(t,n),ol(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Yi(n,Ae,l),l!==f.cache&&Hc(n,[Ae],r,!0),ul(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ng(t,n,l,r);break t}else if(l!==c){c=_n(Error(a(424)),n),el(c),n=Ng(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Ln(t.firstChild),Ze=n,Lt=!0,na=null,Kn=!0,r=dg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(tl(),l===c){n=Ai(t,n,r);break t}Me(t,n,l,r)}n=n.child}return n;case 26:return to(t,n),t===null?(r=Bp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,t=n.pendingProps,l=po(dt.current).createElement(r),l[ue]=n,l[Oe]=t,Ue(l,r,t),oe(l),n.stateNode=l):n.memoizedState=Bp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Is(n),t===null&&Lt&&(l=n.stateNode=Lp(n.type,n.pendingProps,dt.current),Ze=n,Kn=!0,c=ae,ur(n.type)?(sf=c,ae=Ln(l.firstChild)):ae=c),Me(t,n,n.pendingProps.children,r),to(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Lt&&((c=l=ae)&&(l=f0(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ze=n,ae=Ln(l.firstChild),Kn=!1,c=!0):c=!1),c||ia(n)),Is(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,ef(c,f)?l=null:p!==null&&ef(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=th(t,n,IE,null,null,r),Nl._currentValue=c),to(t,n),Me(t,n,l,r),n.child;case 6:return t===null&&Lt&&((t=r=ae)&&(r=d0(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Ze=n,ae=null,t=!0):t=!1),t||ia(n)),null;case 13:return Og(t,n,r);case 4:return kt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ja(n,null,l,r):Me(t,n,l,r),n.child;case 11:return bg(t,n,n.type,n.pendingProps,r);case 7:return Me(t,n,n.pendingProps,r),n.child;case 8:return Me(t,n,n.pendingProps.children,r),n.child;case 12:return Me(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Yi(n,n.type,l.value),Me(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,aa(n),c=ke(c),l=l(c),n.flags|=1,Me(t,n,l,r),n.child;case 14:return Rg(t,n,n.type,n.pendingProps,r);case 15:return wg(t,n,n.type,n.pendingProps,r);case 19:return xg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=eo(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=gi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Dg(t,n,r);case 24:return aa(n),l=ke(Ae),t===null?(c=Qc(),c===null&&(c=Kt,f=jc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Yc(n),Yi(n,Ae,c)):((t.lanes&r)!==0&&(Xc(t,n),ol(n,null,null,r),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Yi(n,Ae,l)):(l=f.cache,Yi(n,Ae,l),l!==c.cache&&Hc(n,[Ae],r,!0))),Me(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Si(t){t.flags|=4}function Lg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gp(n)){if(n=An.current,n!==null&&((It&4194048)===It?Zn!==null:(It&62914560)!==It&&(It&536870912)===0||n!==Zn))throw sl=Fc,vm;t.flags|=8192}}function no(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xi():536870912,t.lanes|=n,ns|=n)}function pl(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function BE(t,n,r){var l=n.pendingProps;switch(Pc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vi(Ae),wn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ws(n)?Si(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,mm())),ne(n),null;case 26:return r=n.memoizedState,t===null?(Si(n),r!==null?(ne(n),Lg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Si(n),ne(n),Lg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Si(n),ne(n),n.flags&=-16777217),null;case 27:Ta(n),r=dt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}t=lt.current,Ws(n)?fm(n):(t=Lp(c,l,r),n.stateNode=t,Si(n))}return ne(n),null;case 5:if(Ta(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(t=lt.current,Ws(n))fm(n);else{switch(c=po(dt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ue]=n,t[Oe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ue(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=dt.current,Ws(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ue]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Vp(t.nodeValue,r)),t||ia(n)}else t=po(t).createTextNode(l),t[ue]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ws(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ue]=n}else tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=mm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ti(n),n):(Ti(n),null)}if(Ti(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),no(n,n.updateQueue),ne(n),null;case 4:return wn(),t===null&&Zh(n.stateNode.containerInfo),ne(n),null;case 10:return vi(n.type),ne(n),null;case 19:if(nt(Se),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$u(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,no(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)cm(r,t),r=r.sibling;return W(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&$e()>ao&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=$u(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,no(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Lt)return ne(n),null}else 2*$e()-c.renderingStartTime>ao&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=$e(),n.sibling=null,t=Se.current,W(Se,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Ti(n),Jc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&no(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(sa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),vi(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function qE(t,n){switch(Pc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vi(Ae),wn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ta(n),null;case 13:if(Ti(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Se),null;case 4:return wn(),null;case 10:return vi(n.type),null;case 22:case 23:return Ti(n),Jc(),t!==null&&nt(sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vi(Ae),null;case 25:return null;default:return null}}function zg(t,n){switch(Pc(n),n.tag){case 3:vi(Ae),wn();break;case 26:case 27:case 5:Ta(n);break;case 4:wn();break;case 13:Ti(n);break;case 19:nt(Se);break;case 10:vi(n.type);break;case 22:case 23:Ti(n),Jc(),t!==null&&nt(sa);break;case 24:vi(Ae)}}function yl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==c)}}catch(E){Yt(n,n.return,E)}}function tr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(j){Yt(c,b,j)}}}l=l.next}while(l!==f)}}catch(j){Yt(n,n.return,j)}}function Pg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Rm(n,r)}catch(l){Yt(t,t.return,l)}}}function Bg(t,n,r){r.props=ua(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function _l(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Yt(t,n,c)}}function $n(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Yt(t,n,c)}else r.current=null}function qg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Yt(t,t.return,c)}}function wh(t,n,r){try{var l=t.stateNode;l0(l,t.type,r,n),l[Oe]=n}catch(c){Yt(t,t.return,c)}}function kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function Dh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ch(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=go));else if(l!==4&&(l===27&&ur(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Ch(t,n,r),t=t.sibling;t!==null;)Ch(t,n,r),t=t.sibling}function io(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ur(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(io(t,n,r),t=t.sibling;t!==null;)io(t,n,r),t=t.sibling}function Hg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ue(n,l,r),n[ue]=t,n[Oe]=r}catch(f){Yt(t,t.return,f)}}var bi=!1,fe=!1,Vh=!1,jg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function kE(t,n){if(t=t.containerInfo,Wh=Ao,t=tm(t),Dc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,b=-1,P=0,j=0,Y=t,B=null;e:for(;;){for(var q;Y!==r||c!==0&&Y.nodeType!==3||(E=p+c),Y!==f||l!==0&&Y.nodeType!==3||(b=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)B=Y,Y=q;for(;;){if(Y===t)break e;if(B===r&&++P===c&&(E=p),B===f&&++j===l&&(b=p),(q=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(tf={focusedElem:t,selectionRange:r},Ao=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var mt=ua(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Yt(r,r.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)rf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function Gg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:er(t,r),l&4&&yl(5,r);break;case 1:if(er(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){Yt(r,r.return,p)}else{var c=ua(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(r,r.return,p)}}l&64&&Pg(r),l&512&&_l(r,r.return);break;case 3:if(er(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Rm(t,n)}catch(p){Yt(r,r.return,p)}}break;case 27:n===null&&l&4&&Hg(r);case 26:case 5:er(t,r),n===null&&l&4&&qg(r),l&512&&_l(r,r.return);break;case 12:er(t,r);break;case 13:er(t,r),l&4&&Yg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ZE.bind(null,r),m0(t,r))));break;case 22:if(l=r.memoizedState!==null||bi,!l){n=n!==null&&n.memoizedState!==null||fe,c=bi;var f=fe;bi=l,(fe=n)&&!f?nr(t,r,(r.subtreeFlags&8772)!==0):er(t,r),bi=c,fe=f}break;case 30:break;default:er(t,r)}}function Qg(t){var n=t.alternate;n!==null&&(t.alternate=null,Qg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&wa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,We=!1;function Ri(t,n,r){for(r=r.child;r!==null;)Fg(t,n,r),r=r.sibling}function Fg(t,n,r){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Ni,r)}catch{}switch(r.tag){case 26:fe||$n(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||$n(r,n);var l=te,c=We;ur(r.type)&&(te=r.stateNode,We=!1),Ri(t,n,r),Dl(r.stateNode),te=l,We=c;break;case 5:fe||$n(r,n);case 6:if(l=te,c=We,te=null,Ri(t,n,r),te=l,We=c,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:te!==null&&(We?(t=te,xp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ul(t)):xp(te,r.stateNode));break;case 4:l=te,c=We,te=r.stateNode.containerInfo,We=!0,Ri(t,n,r),te=l,We=c;break;case 0:case 11:case 14:case 15:fe||tr(2,r,n),fe||tr(4,r,n),Ri(t,n,r);break;case 1:fe||($n(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Bg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:fe=(l=fe)||r.memoizedState!==null,Ri(t,n,r),fe=l;break;default:Ri(t,n,r)}}function Yg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(r){Yt(n,n.return,r)}}function HE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new jg),n;default:throw Error(a(435,t.tag))}}function Ih(t,n){var r=HE(t);n.forEach(function(l){var c=$E.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(ur(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(a(160));Fg(f,p,c),te=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Xg(n,t),n=n.sibling}var Un=null;function Xg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),l&4&&(tr(3,t,t.return),yl(3,t),tr(5,t,t.return));break;case 1:ln(n,t),un(t),l&512&&(fe||r===null||$n(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(ln(n,t),un(t),l&512&&(fe||r===null||$n(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[zi]||f[ue]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ue(f,l,r),f[ue]=t,oe(f),l=f;break t;case"link":var p=Hp("link","href",c).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),Ue(f,l,r),c.head.appendChild(f);break;case"meta":if(p=Hp("meta","content",c).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=c.createElement(l),Ue(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ue]=t,oe(f),l=f}t.stateNode=l}else jp(c,t.type,t.stateNode);else t.stateNode=kp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?jp(c,t.type,t.stateNode):kp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),un(t),l&512&&(fe||r===null||$n(r,r.return)),r!==null&&l&4&&wh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),un(t),l&512&&(fe||r===null||$n(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(q){Yt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,wh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Vh=!0);break;case 6:if(ln(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Yt(t,t.return,q)}}break;case 3:if(vo=null,c=Un,Un=yo(n.containerInfo),ln(n,t),Un=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(q){Yt(t,t.return,q)}Vh&&(Vh=!1,Kg(t));break;case 4:l=Un,Un=yo(t.stateNode.containerInfo),ln(n,t),un(t),Un=l;break;case 12:ln(n,t),un(t);break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Lh=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ih(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=bi,j=fe;if(bi=P||c,fe=j||b,ln(n,t),fe=j,bi=P,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||bi||fe||oa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Yt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Yt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ih(t,r))));break;case 19:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ih(t,l)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(kg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Dh(t);io(t,f,c);break;case 5:var p=r.stateNode;r.flags&32&&(pn(p,""),r.flags&=-33);var E=Dh(t);io(t,E,p);break;case 3:case 4:var b=r.stateNode.containerInfo,P=Dh(t);Ch(t,P,b);break;default:throw Error(a(161))}}catch(j){Yt(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function er(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gg(t,n.alternate,n),n=n.sibling}function oa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:tr(4,n,n.return),oa(n);break;case 1:$n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Bg(n,n.return,r),oa(n);break;case 27:Dl(n.stateNode);case 26:case 5:$n(n,n.return),oa(n);break;case 22:n.memoizedState===null&&oa(n);break;case 30:oa(n);break;default:oa(n)}t=t.sibling}}function nr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:nr(c,f,r),yl(4,f);break;case 1:if(nr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Yt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)bm(b[c],E)}catch(P){Yt(l,l.return,P)}}r&&p&64&&Pg(f),_l(f,f.return);break;case 27:Hg(f);case 26:case 5:nr(c,f,r),r&&l===null&&p&4&&qg(f),_l(f,f.return);break;case 12:nr(c,f,r);break;case 13:nr(c,f,r),r&&p&4&&Yg(c,f);break;case 22:f.memoizedState===null&&nr(c,f,r),_l(f,f.return);break;case 30:break;default:nr(c,f,r)}n=n.sibling}}function Nh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&il(r))}function Oh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zg(t,n,r,l),n=n.sibling}function Zg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),c&2048&&yl(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Yt(n,n.return,b)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):vl(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,Wa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Nh(p,n);break;case 24:Jn(t,n,r,l),c&2048&&Oh(n.alternate,n);break;default:Jn(t,n,r,l)}}function Wa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,p=n,E=r,b=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Wa(f,p,E,b,c),yl(8,p);break;case 23:break;case 22:var j=p.stateNode;p.memoizedState!==null?j._visibility&2?Wa(f,p,E,b,c):vl(f,p):(j._visibility|=2,Wa(f,p,E,b,c)),c&&P&2048&&Nh(p.alternate,p);break;case 24:Wa(f,p,E,b,c),c&&P&2048&&Oh(p.alternate,p);break;default:Wa(f,p,E,b,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:vl(r,l),c&2048&&Nh(l.alternate,l);break;case 24:vl(r,l),c&2048&&Oh(l.alternate,l);break;default:vl(r,l)}n=n.sibling}}var El=8192;function ts(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)$g(t),t=t.sibling}function $g(t){switch(t.tag){case 26:ts(t),t.flags&El&&t.memoizedState!==null&&D0(Un,t.memoizedState,t.memoizedProps);break;case 5:ts(t);break;case 3:case 4:var n=Un;Un=yo(t.stateNode.containerInfo),ts(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,ts(t),El=n):ts(t));break;default:ts(t)}}function Jg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ce=l,tp(l,t)}Jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wg(t),t=t.sibling}function Wg(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&tr(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ro(t)):Tl(t);break;default:Tl(t)}}function ro(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ce=l,tp(l,t)}Jg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:tr(8,n,n.return),ro(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ro(n));break;default:ro(n)}t=t.sibling}}function tp(t,n){for(;Ce!==null;){var r=Ce;switch(r.tag){case 0:case 11:case 15:tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ce=l;else t:for(r=t;Ce!==null;){l=Ce;var c=l.sibling,f=l.return;if(Qg(l),l===r){Ce=null;break t}if(c!==null){c.return=f,Ce=c;break t}Ce=f}}}var jE={getCacheForType:function(t){var n=ke(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},GE=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Kt=null,Rt=null,It=0,qt=0,on=null,ir=!1,es=!1,Mh=!1,wi=0,se=0,rr=0,ca=0,xh=0,Sn=0,ns=0,Al=null,tn=null,Uh=!1,Lh=0,ao=1/0,so=null,ar=null,xe=0,sr=null,is=null,rs=0,zh=0,Ph=null,ep=null,Sl=0,Bh=null;function cn(){if((Bt&2)!==0&&It!==0)return It&-It;if(H.T!==null){var t=Qa;return t!==0?t:Fh()}return ui()}function np(){Sn===0&&(Sn=(It&536870912)===0||Lt?Ms():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function hn(t,n,r){(t===Kt&&(qt===2||qt===9)||t.cancelPendingCommit!==null)&&(as(t,0),lr(t,It,Sn,!1)),le(t,r),((Bt&2)===0||t!==Kt)&&(t===Kt&&((Bt&2)===0&&(ca|=r),se===4&&lr(t,It,Sn,!1)),Wn(t))}function ip(t,n,r){if((Bt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Mi(t,n),c=l?YE(t,n):Hh(t,n,!0),f=l;do{if(c===0){es&&!l&&lr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!QE(r)){c=Hh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=Al;var b=E.current.memoizedState.isDehydrated;if(b&&(as(E,p).flags|=256),p=Hh(E,p,!1),p!==2){if(Mh&&!b){E.errorRecoveryDisabledLanes|=f,ca|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){as(t,0),lr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:lr(l,n,Sn,!ir);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Lh+300-$e(),10<c)){if(lr(l,n,Sn,!ir),mn(l,0,!0)!==0)break t;l.timeoutHandle=Op(rp.bind(null,l,r,tn,so,Uh,n,Sn,ca,ns,ir,f,2,-0,0),c);break t}rp(l,r,tn,so,Uh,n,Sn,ca,ns,ir,f,0,-0,0)}}break}while(!0);Wn(t)}function rp(t,n,r,l,c,f,p,E,b,P,j,Y,B,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:w0},$g(n),Y=C0(),Y!==null)){t.cancelPendingCommit=Y(hp.bind(null,t,n,f,r,l,c,p,E,b,j,1,B,q)),lr(t,f,p,!P);return}hp(t,n,f,r,l,c,p,E,b)}function QE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(t,n,r,l){n&=~xh,n&=~ca,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Fe(c),p=1<<f;l[f]=-1,c&=~p}r!==0&&Ui(t,r,n)}function lo(){return(Bt&6)===0?(bl(0),!1):!0}function qh(){if(Rt!==null){if(qt===0)var t=Rt.return;else t=Rt,_i=ra=null,ih(t),$a=null,ml=0,t=Rt;for(;t!==null;)zg(t.alternate,t),t=t.return;Rt=null}}function as(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,o0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),qh(),Kt=t,Rt=r=gi(t.current,null),It=n,qt=0,on=null,ir=!1,es=Mi(t,n),Mh=!1,ns=Sn=xh=ca=rr=se=0,tn=Al=null,Uh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Fe(l),f=1<<c;n|=t[c],l&=~f}return wi=n,Vu(),r}function ap(t,n){St=null,H.H=Xu,n===al||n===Pu?(n=Am(),qt=3):n===vm?(n=Am(),qt=4):qt=n===Sg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Rt===null&&(se=1,Wu(t,_n(n,t.current)))}function sp(){var t=H.H;return H.H=Xu,t===null?Xu:t}function lp(){var t=H.A;return H.A=jE,t}function kh(){se=4,ir||(It&4194048)!==It&&An.current!==null||(es=!0),(rr&134217727)===0&&(ca&134217727)===0||Kt===null||lr(Kt,It,Sn,!1)}function Hh(t,n,r){var l=Bt;Bt|=2;var c=sp(),f=lp();(Kt!==t||It!==n)&&(so=null,as(t,n)),n=!1;var p=se;t:do try{if(qt!==0&&Rt!==null){var E=Rt,b=on;switch(qt){case 8:qh(),p=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var P=qt;if(qt=0,on=null,ss(t,E,b,P),r&&es){p=0;break t}break;default:P=qt,qt=0,on=null,ss(t,E,b,P)}}FE(),p=se;break}catch(j){ap(t,j)}while(!0);return n&&t.shellSuspendCounter++,_i=ra=null,Bt=l,H.H=c,H.A=f,Rt===null&&(Kt=null,It=0,Vu()),p}function FE(){for(;Rt!==null;)up(Rt)}function YE(t,n){var r=Bt;Bt|=2;var l=sp(),c=lp();Kt!==t||It!==n?(so=null,ao=$e()+500,as(t,n)):es=Mi(t,n);t:do try{if(qt!==0&&Rt!==null){n=Rt;var f=on;e:switch(qt){case 1:qt=0,on=null,ss(t,n,f,1);break;case 2:case 9:if(Em(f)){qt=0,on=null,op(n);break}n=function(){qt!==2&&qt!==9||Kt!==t||(qt=7),Wn(t)},f.then(n,n);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:Em(f)?(qt=0,on=null,op(n)):(qt=0,on=null,ss(t,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(!p||Gp(p)){qt=0,on=null;var b=E.sibling;if(b!==null)Rt=b;else{var P=E.return;P!==null?(Rt=P,uo(P)):Rt=null}break e}}qt=0,on=null,ss(t,n,f,5);break;case 6:qt=0,on=null,ss(t,n,f,6);break;case 8:qh(),se=6;break t;default:throw Error(a(462))}}XE();break}catch(j){ap(t,j)}while(!0);return _i=ra=null,H.H=l,H.A=c,Bt=r,Rt!==null?0:(Kt=null,It=0,Vu(),se)}function XE(){for(;Rt!==null&&!pc();)up(Rt)}function up(t){var n=Ug(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?uo(t):Rt=n}function op(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Vg(r,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Vg(r,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:ih(n);default:zg(r,n),n=Rt=cm(n,wi),n=Ug(r,n,wi)}t.memoizedProps=t.pendingProps,n===null?uo(t):Rt=n}function ss(t,n,r,l){_i=ra=null,ih(n),$a=null,ml=0;var c=n.return;try{if(zE(t,c,n,r,It)){se=1,Wu(t,_n(r,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;se=1,Wu(t,_n(r,t.current)),Rt=null;return}n.flags&32768?(Lt||l===1?t=!0:es||(It&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),cp(n,t)):uo(n)}function uo(t){var n=t;do{if((n.flags&32768)!==0){cp(n,ir);return}t=n.return;var r=BE(n.alternate,n,wi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);se===0&&(se=5)}function cp(t,n){do{var r=qE(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);se=6,Rt=null}function hp(t,n,r,l,c,f,p,E,b){t.cancelPendingCommit=null;do oo();while(xe!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Oc,fu(t,r,f,p,E,b),t===Kt&&(Rt=Kt=null,It=0),is=n,sr=t,rs=r,zh=f,Ph=c,ep=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,JE(li,function(){return pp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,p=Bt,Bt|=4;try{kE(t,n,r)}finally{Bt=p,tt.p=c,H.T=l}}xe=1,fp(),dp(),mp()}}function fp(){if(xe===1){xe=0;var t=sr,n=is,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Bt;Bt|=4;try{Xg(n,t);var f=tf,p=tm(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Wd(E.ownerDocument.documentElement,E)){if(b!==null&&Dc(E)){var P=b.start,j=b.end;if(j===void 0&&(j=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(j,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var q=B.getSelection(),mt=E.textContent.length,ct=Math.min(b.start,mt),Qt=b.end===void 0?ct:Math.min(b.end,mt);!q.extend&&ct>Qt&&(p=Qt,Qt=ct,ct=p);var x=Jd(E,ct),V=Jd(E,Qt);if(x&&V&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),ct>Qt?(q.addRange(L),q.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var G=Y[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Ao=!!Wh,tf=Wh=null}finally{Bt=c,tt.p=l,H.T=r}}t.current=n,xe=2}}function dp(){if(xe===2){xe=0;var t=sr,n=is,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Bt;Bt|=4;try{Gg(t,n.alternate,n)}finally{Bt=c,tt.p=l,H.T=r}}xe=3}}function mp(){if(xe===4||xe===3){xe=0,Ns();var t=sr,n=is,r=rs,l=ep;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,is=sr=null,gp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ar=null),Us(r),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Ni,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(rs&3)!==0&&oo(),Wn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Bh?Sl++:(Sl=0,Bh=t):Sl=0,bl(0)}}function gp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function oo(t){return fp(),dp(),mp(),pp()}function pp(){if(xe!==5)return!1;var t=sr,n=zh;zh=0;var r=Us(rs),l=H.T,c=tt.p;try{tt.p=32>r?32:r,H.T=null,r=Ph,Ph=null;var f=sr,p=rs;if(xe=0,is=sr=null,rs=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,Wg(f.current),Zg(f,f.current,p,r),Bt=E,bl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Ni,f)}catch{}return!0}finally{tt.p=c,H.T=l,gp(t,n)}}function yp(t,n,r){n=_n(r,n),n=yh(t.stateNode,n,2),t=Zi(t,n,2),t!==null&&(le(t,2),Wn(t))}function Yt(t,n,r){if(t.tag===3)yp(t,t,r);else for(;n!==null;){if(n.tag===3){yp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ar===null||!ar.has(l))){t=_n(r,t),r=Tg(2),l=Zi(n,r,2),l!==null&&(Ag(r,l,n,t),le(l,2),Wn(l));break}}n=n.return}}function jh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new GE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Mh=!0,c.add(r),t=KE.bind(null,t,n,r),n.then(t,t))}function KE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(It&r)===r&&(se===4||se===3&&(It&62914560)===It&&300>$e()-Lh?(Bt&2)===0&&as(t,0):xh|=r,ns===It&&(ns=0)),Wn(t)}function _p(t,n){n===0&&(n=xi()),t=ka(t,n),t!==null&&(le(t,n),Wn(t))}function ZE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),_p(t,r)}function $E(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),_p(t,r)}function JE(t,n){return Vr(t,n)}var co=null,ls=null,Gh=!1,ho=!1,Qh=!1,ha=0;function Wn(t){t!==ls&&t.next===null&&(ls===null?co=ls=t:ls=ls.next=t),ho=!0,Gh||(Gh=!0,t0())}function bl(t,n){if(!Qh&&ho){Qh=!0;do for(var r=!1,l=co;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Fe(42|t)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ap(l,f))}else f=It,f=mn(l,l===Kt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Mi(l,f)||(r=!0,Ap(l,f));l=l.next}while(r);Qh=!1}}function WE(){vp()}function vp(){ho=Gh=!1;var t=0;ha!==0&&(u0()&&(t=ha),ha=0);for(var n=$e(),r=null,l=co;l!==null;){var c=l.next,f=Ep(l,n);f===0?(l.next=null,r===null?co=c:r.next=c,c===null&&(ls=r)):(r=l,(t!==0||(f&3)!==0)&&(ho=!0)),l=c}bl(t)}function Ep(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Fe(f),E=1<<p,b=c[p];b===-1?((E&r)===0||(E&l)!==0)&&(c[p]=ba(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Kt,r=It,r=mn(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(qt===2||qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sa(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Mi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Sa(l),Us(r)){case 2:case 8:r=Re;break;case 32:r=li;break;case 268435456:r=Os;break;default:r=li}return l=Tp.bind(null,t),r=Vr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Sa(l),t.callbackPriority=2,t.callbackNode=null,2}function Tp(t,n){if(xe!==0&&xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(oo()&&t.callbackNode!==r)return null;var l=It;return l=mn(t,t===Kt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ip(t,l,n),Ep(t,$e()),t.callbackNode!=null&&t.callbackNode===r?Tp.bind(null,t):null)}function Ap(t,n){if(oo())return null;ip(t,n,!0)}function t0(){c0(function(){(Bt&6)!==0?Vr(Ee,WE):vp()})}function Fh(){return ha===0&&(ha=Ms()),ha}function Sp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:In(""+t)}function bp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function e0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Sp((c[Oe]||null).action),p=l.submitter;p&&(n=(n=p[Oe]||null)?Sp(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Gr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ha!==0){var b=p?bp(c,p):new FormData(c);fh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=p?bp(c,p):new FormData(c),fh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Yh=0;Yh<Nc.length;Yh++){var Xh=Nc[Yh],n0=Xh.toLowerCase(),i0=Xh[0].toUpperCase()+Xh.slice(1);xn(n0,"on"+i0)}xn(im,"onAnimationEnd"),xn(rm,"onAnimationIteration"),xn(am,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(EE,"onTransitionRun"),xn(TE,"onTransitionStart"),xn(AE,"onTransitionCancel"),xn(sm,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Rp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(j){Ju(j)}c.currentTarget=null,f=b}else for(p=0;p<l.length;p++){if(E=l[p],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(j){Ju(j)}c.currentTarget=null,f=b}}}}function wt(t,n){var r=n[Nr];r===void 0&&(r=n[Nr]=new Set);var l=t+"__bubble";r.has(l)||(wp(n,t,2,!1),r.add(l))}function Kh(t,n,r){var l=0;n&&(l|=4),wp(r,t,l,n)}var fo="_reactListening"+Math.random().toString(36).slice(2);function Zh(t){if(!t[fo]){t[fo]=!0,du.forEach(function(r){r!=="selectionchange"&&(r0.has(r)||Kh(r,!1,t),Kh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fo]||(n[fo]=!0,Kh("selectionchange",!1,n))}}function wp(t,n,r,l){switch(Zp(n)){case 2:var c=N0;break;case 8:c=O0;break;default:c=hf}r=c.bind(null,n,r,t),c=void 0,!di||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function $h(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var b=p.tag;if((b===3||b===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=Hn(E),p===null)return;if(b=p.tag,b===5||b===6||b===26||b===27){l=f=p;continue t}E=E.parentNode}}l=l.return}kr(function(){var P=f,j=Hs(r),Y=[];t:{var B=lm.get(t);if(B!==void 0){var q=Gr,mt=t;switch(t){case"keypress":if(Hr(r)===0)break t;case"keydown":case"keyup":q=za;break;case"focusin":mt="focus",q=xa;break;case"focusout":mt="blur",q=xa;break;case"beforeblur":case"afterblur":q=xa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Kr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Fi;break;case im:case rm:case am:q=Gs;break;case sm:q=m;break;case"scroll":case"scrollend":q=Fr;break;case"wheel":q=T;break;case"copy":case"cut":case"paste":q=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ys;break;case"toggle":case"beforetoggle":q=k}var ct=(n&4)!==0,Qt=!ct&&(t==="scroll"||t==="scrollend"),x=ct?B!==null?B+"Capture":null:B;ct=[];for(var V=P,L;V!==null;){var G=V;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=Gi(V,x),G!=null&&ct.push(wl(V,G,L))),Qt)break;V=V.return}0<ct.length&&(B=new q(B,mt,null,r,j),Y.push({event:B,listeners:ct}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==ks&&(mt=r.relatedTarget||r.fromElement)&&(Hn(mt)||mt[oi]))break t;if((q||B)&&(B=j.window===j?j:(B=j.ownerDocument)?B.defaultView||B.parentWindow:window,q?(mt=r.relatedTarget||r.toElement,q=P,mt=mt?Hn(mt):null,mt!==null&&(Qt=h(mt),ct=mt.tag,mt!==Qt||ct!==5&&ct!==27&&ct!==6)&&(mt=null)):(q=null,mt=P),q!==mt)){if(ct=Kr,G="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ct=Ys,G="onPointerLeave",x="onPointerEnter",V="pointer"),Qt=q==null?B:Pi(q),L=mt==null?B:Pi(mt),B=new ct(G,V+"leave",q,r,j),B.target=Qt,B.relatedTarget=L,G=null,Hn(j)===P&&(ct=new ct(x,V+"enter",mt,r,j),ct.target=L,ct.relatedTarget=Qt,G=ct),Qt=G,q&&mt)e:{for(ct=q,x=mt,V=0,L=ct;L;L=us(L))V++;for(L=0,G=x;G;G=us(G))L++;for(;0<V-L;)ct=us(ct),V--;for(;0<L-V;)x=us(x),L--;for(;V--;){if(ct===x||x!==null&&ct===x.alternate)break e;ct=us(ct),x=us(x)}ct=null}else ct=null;q!==null&&Dp(Y,B,q,ct,!1),mt!==null&&Qt!==null&&Dp(Y,Qt,mt,ct,!0)}}t:{if(B=P?Pi(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var at=Fd;else if(Gd(B))if(Yd)at=yE;else{at=gE;var bt=mE}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Na(P.elementType)&&(at=Fd):at=pE;if(at&&(at=at(t,P))){Qd(Y,at,r,j);break t}bt&&bt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Ps(B,"number",B.value)}switch(bt=P?Pi(P):window,t){case"focusin":(Gd(bt)||bt.contentEditable==="true")&&(Pa=bt,Cc=P,Js=null);break;case"focusout":Js=Cc=Pa=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,em(Y,r,j);break;case"selectionchange":if(vE)break;case"keydown":case"keyup":em(Y,r,j)}var st;if(_t)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Mn?Nn(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(ce&&r.locale!=="ko"&&(Mn||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Mn&&(st=vu()):(yn=j,Xt="value"in yn?yn.value:yn.textContent,Mn=!0)),bt=mo(P,ht),0<bt.length&&(ht=new Fs(ht,t,null,r,j),Y.push({event:ht,listeners:bt}),st?ht.data=st:(st=On(r),st!==null&&(ht.data=st)))),(st=Pt?Xs(t,r):hE(t,r))&&(ht=mo(P,"onBeforeInput"),0<ht.length&&(bt=new Fs("onBeforeInput","beforeinput",null,r,j),Y.push({event:bt,listeners:ht}),bt.data=st)),e0(Y,t,P,r,j)}Rp(Y,n)})}function wl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function mo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Gi(t,r),c!=null&&l.unshift(wl(t,c,f)),c=Gi(t,n),c!=null&&l.push(wl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dp(t,n,r,l,c){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Gi(r,f),P!=null&&p.unshift(wl(r,P,b))):c||(P=Gi(r,f),P!=null&&p.push(wl(r,P,b)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var a0=/\r\n?/g,s0=/\u0000|\uFFFD/g;function Cp(t){return(typeof t=="string"?t:""+t).replace(a0,`
`).replace(s0,"")}function Vp(t,n){return n=Cp(n),Cp(t)===n}function go(){}function Gt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Lr(t,"class",l);break;case"tabIndex":Lr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Lr(t,r,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){Lr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=In(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Gt(t,n,"name",c.name,c,null),Gt(t,n,"formEncType",c.formEncType,c,null),Gt(t,n,"formMethod",c.formMethod,c,null),Gt(t,n,"formTarget",c.formTarget,c,null)):(Gt(t,n,"encType",c.encType,c,null),Gt(t,n,"method",c.method,c,null),Gt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=In(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=go);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=In(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Ur(t,"popover",l);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ur(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=pu.get(r)||r,Ur(t,r,l))}}function Jh(t,n,r,l,c,f){switch(r){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=go);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mr.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[Oe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ur(t,r,l)}}}function Ue(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,f,p,r,null)}}c&&Gt(t,n,"srcSet",r.srcSet,r,null),l&&Gt(t,n,"src",r.src,r,null);return;case"input":wt("invalid",t);var E=f=p=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var j=r[l];if(j!=null)switch(l){case"name":c=j;break;case"type":p=j;break;case"checked":b=j;break;case"defaultChecked":P=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Gt(t,n,l,j,r,null)}}zs(t,f,E,b,P,p,c,!1),ki(t);return;case"select":wt("invalid",t),l=p=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Gt(t,n,c,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Hi(t,!!l,n,!1):r!=null&&Hi(t,!!l,r,!0);return;case"textarea":wt("invalid",t),f=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Gt(t,n,p,E,r,null)}gu(t,l,c,f),ki(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(t,n,b,l,r,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)wt(Rl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,P,l,r,null)}return;default:if(Na(n)){for(j in r)r.hasOwnProperty(j)&&(l=r[j],l!==void 0&&Jh(t,n,j,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Gt(t,n,E,l,r,null))}function l0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,b=null,P=null,j=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(q)||Gt(t,n,q,null,l,Y)}}for(var B in l){var q=l[B];if(Y=r[B],l.hasOwnProperty(B)&&(q!=null||Y!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":j=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Gt(t,n,B,q,l,Y)}}Ls(t,p,E,b,P,j,f,c);return;case"select":q=p=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Gt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==b&&Gt(t,n,c,f,l,b)}n=E,r=p,l=q,B!=null?Hi(t,!!r,B,!1):!!l!=!!r&&(n!=null?Hi(t,!!r,n,!0):Hi(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=r[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Gt(t,n,p,c,l,f)}mu(t,B,q);return;case"option":for(var mt in r)if(B=r[mt],r.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Gt(t,n,mt,null,l,B)}for(b in l)if(B=l[b],q=r[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Gt(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)B=r[ct],r.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&Gt(t,n,ct,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Gt(t,n,P,B,l,q)}return;default:if(Na(n)){for(var Qt in r)B=r[Qt],r.hasOwnProperty(Qt)&&B!==void 0&&!l.hasOwnProperty(Qt)&&Jh(t,n,Qt,void 0,l,B);for(j in l)B=l[j],q=r[j],!l.hasOwnProperty(j)||B===q||B===void 0&&q===void 0||Jh(t,n,j,B,l,q);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Gt(t,n,x,null,l,B);for(Y in l)B=l[Y],q=r[Y],!l.hasOwnProperty(Y)||B===q||B==null&&q==null||Gt(t,n,Y,B,l,q)}var Wh=null,tf=null;function po(t){return t.nodeType===9?t:t.ownerDocument}function Ip(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Np(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ef(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nf=null;function u0(){var t=window.event;return t&&t.type==="popstate"?t===nf?!1:(nf=t,!0):(nf=null,!1)}var Op=typeof setTimeout=="function"?setTimeout:void 0,o0=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,c0=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(t){return Mp.resolve(null).then(t).catch(h0)}:Op;function h0(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function xp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var p=t.ownerDocument;if(r&1&&Dl(p.documentElement),r&2&&Dl(p.body),r&4)for(r=p.head,Dl(r),p=r.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[zi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=E}}if(c===0){t.removeChild(f),Ul(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ul(n)}function rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":rf(r),wa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function f0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function d0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function af(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function m0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var sf=null;function Up(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Lp(t,n,r){switch(n=po(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);wa(t)}var bn=new Map,zp=new Set;function yo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=tt.d;tt.d={f:g0,r:p0,D:y0,C:_0,L:v0,m:E0,X:A0,S:T0,M:S0};function g0(){var t=Di.f(),n=lo();return t||n}function p0(t){var n=jn(t);n!==null&&n.tag===5&&n.type==="form"?ig(n):Di.r(t)}var os=typeof document>"u"?null:document;function Pp(t,n,r){var l=os;if(l&&typeof n=="string"&&n){var c=we(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),zp.has(c)||(zp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ue(n,"link",t),oe(n),l.head.appendChild(n)))}}function y0(t){Di.D(t),Pp("dns-prefetch",t,null)}function _0(t,n){Di.C(t,n),Pp("preconnect",t,n)}function v0(t,n,r){Di.L(t,n,r);var l=os;if(l&&t&&n){var c='link[rel="preload"][as="'+we(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+we(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+we(r.imageSizes)+'"]')):c+='[href="'+we(t)+'"]';var f=c;switch(n){case"style":f=cs(t);break;case"script":f=hs(t)}bn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),bn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(Vl(f))||(n=l.createElement("link"),Ue(n,"link",t),oe(n),l.head.appendChild(n)))}}function E0(t,n){Di.m(t,n);var r=os;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+we(l)+'"][href="'+we(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hs(t)}if(!bn.has(f)&&(t=A({rel:"modulepreload",href:t},n),bn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Vl(f)))return}l=r.createElement("link"),Ue(l,"link",t),oe(l),r.head.appendChild(l)}}}function T0(t,n,r){Di.S(t,n,r);var l=os;if(l&&t){var c=Bi(l).hoistableStyles,f=cs(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Cl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=bn.get(f))&&lf(t,r);var b=p=l.createElement("link");oe(b),Ue(b,"link",t),b._p=new Promise(function(P,j){b.onload=P,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_o(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function A0(t,n){Di.X(t,n);var r=os;if(r&&t){var l=Bi(r).hoistableScripts,c=hs(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=A({src:t,async:!0},n),(n=bn.get(c))&&uf(t,n),f=r.createElement("script"),oe(f),Ue(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function S0(t,n){Di.M(t,n);var r=os;if(r&&t){var l=Bi(r).hoistableScripts,c=hs(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=bn.get(c))&&uf(t,n),f=r.createElement("script"),oe(f),Ue(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Bp(t,n,r,l){var c=(c=dt.current)?yo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=cs(r.href),r=Bi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=cs(r.href);var f=Bi(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Cl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),bn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(t,r),f||b0(c,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hs(r),r=Bi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function cs(t){return'href="'+we(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function qp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function b0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ue(n,"link",r),oe(n),t.head.appendChild(n))}function hs(t){return'[src="'+we(t)+'"]'}function Vl(t){return"script[async]"+t}function kp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+we(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Ue(l,"style",c),_o(l,r.precedence,t),n.instance=l;case"stylesheet":c=cs(r.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=qp(r),(c=bn.get(c))&&lf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var p=f;return p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Ue(f,"link",l),n.state.loading|=4,_o(f,r.precedence,t),n.instance=f;case"script":return f=hs(r.src),(c=t.querySelector(Vl(f)))?(n.instance=c,oe(c),c):(l=r,(c=bn.get(f))&&(l=A({},r),uf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Ue(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,_o(l,r.precedence,t));return n.instance}function _o(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vo=null;function Hp(t,n,r){if(vo===null){var l=new Map,c=vo=new Map;c.set(r,l)}else c=vo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[zi]||f[ue]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function jp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function R0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function w0(){}function D0(t,n,r){if(Il===null)throw Error(a(475));var l=Il;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=cs(r.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Eo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,r=qp(r),(c=bn.get(c))&&lf(r,c),f=f.createElement("link"),oe(f);var p=f;p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Ue(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Eo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function C0(){if(Il===null)throw Error(a(475));var t=Il;return t.stylesheets&&t.count===0&&of(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&of(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Eo(){if(this.count--,this.count===0){if(this.stylesheets)of(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var To=null;function of(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,To=new Map,n.forEach(V0,t),To=null,Eo.call(t))}function V0(t,n){if(!(n.state.loading&4)){var r=To.get(t);if(r)var l=r.get(null);else{r=new Map,To.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,c),r.set(p,c),this.count++,l=Eo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function I0(t,n,r,l,c,f,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.hiddenUpdates=Ra(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Qp(t,n,r,l,c,f,p,E,b,P,j,Y){return t=new I0(t,n,r,p,E,b,P,Y),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=jc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Yc(f),t}function Fp(t){return t?(t=Ha,t):Ha}function Yp(t,n,r,l,c,f){c=Fp(c),l.context===null?l.context=c:l.pendingContext=c,l=Ki(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Zi(t,l,n),r!==null&&(hn(r,t,n),ll(r,t,n))}function Xp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function cf(t,n){Xp(t,n),(t=t.alternate)&&Xp(t,n)}function Kp(t){if(t.tag===13){var n=ka(t,67108864);n!==null&&hn(n,t,67108864),cf(t,67108864)}}var Ao=!0;function N0(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,hf(t,n,r,l)}finally{tt.p=f,H.T=c}}function O0(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,hf(t,n,r,l)}finally{tt.p=f,H.T=c}}function hf(t,n,r,l){if(Ao){var c=ff(l);if(c===null)$h(t,n,l,So,r),$p(t,l);else if(x0(c,t,n,r,l))l.stopPropagation();else if($p(t,l),n&4&&-1<M0.indexOf(t)){for(;c!==null;){var f=jn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Dn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var b=1<<31-Fe(p);E.entanglements[1]|=b,p&=~b}Wn(f),(Bt&6)===0&&(ao=$e()+500,bl(0))}}break;case 13:E=ka(f,2),E!==null&&hn(E,f,2),lo(),cf(f,2)}if(f=ff(l),f===null&&$h(t,n,l,So,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else $h(t,n,l,null,r)}}function ff(t){return t=Hs(t),df(t)}var So=null;function df(t){if(So=null,t=Hn(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return So=t,null}function Zp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ou()){case Ee:return 2;case Re:return 8;case li:case yc:return 32;case Os:return 268435456;default:return 32}default:return 32}}var mf=!1,or=null,cr=null,hr=null,Ol=new Map,Ml=new Map,fr=[],M0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $p(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function xl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=jn(n),n!==null&&Kp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function x0(t,n,r,l,c){switch(n){case"focusin":return or=xl(or,t,n,r,l,c),!0;case"dragenter":return cr=xl(cr,t,n,r,l,c),!0;case"mouseover":return hr=xl(hr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ol.set(f,xl(Ol.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,xl(Ml.get(f)||null,t,n,r,l,c)),!0}return!1}function Jp(t){var n=Hn(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Ec(t.priority,function(){if(r.tag===13){var l=cn();l=xs(l);var c=ka(r,l);c!==null&&hn(c,r,l),cf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=ff(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ks=l,r.target.dispatchEvent(l),ks=null}else return n=jn(r),n!==null&&Kp(n),t.blockedOn=r,!1;n.shift()}return!0}function Wp(t,n,r){bo(t)&&r.delete(n)}function U0(){mf=!1,or!==null&&bo(or)&&(or=null),cr!==null&&bo(cr)&&(cr=null),hr!==null&&bo(hr)&&(hr=null),Ol.forEach(Wp),Ml.forEach(Wp)}function Ro(t,n){t.blockedOn===n&&(t.blockedOn=null,mf||(mf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,U0)))}var wo=null;function ty(t){wo!==t&&(wo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wo===t&&(wo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(df(l||r)===null)continue;break}var f=jn(r);f!==null&&(t.splice(n,3),n-=3,fh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ul(t){function n(b){return Ro(b,t)}or!==null&&Ro(or,t),cr!==null&&Ro(cr,t),hr!==null&&Ro(hr,t),Ol.forEach(n),Ml.forEach(n);for(var r=0;r<fr.length;r++){var l=fr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fr.length&&(r=fr[0],r.blockedOn===null);)Jp(r),r.blockedOn===null&&fr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],p=c[Oe]||null;if(typeof f=="function")p||ty(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Oe]||null)E=p.formAction;else if(df(c)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),ty(r)}}}function gf(t){this._internalRoot=t}Do.prototype.render=gf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();Yp(r,l,t,n,null,null)},Do.prototype.unmount=gf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Yp(t.current,2,null,t,null,null),lo(),n[oi]=null}};function Do(t){this._internalRoot=t}Do.prototype.unstable_scheduleHydration=function(t){if(t){var n=ui();t={blockedOn:null,target:t,priority:n};for(var r=0;r<fr.length&&n!==0&&n<fr[r].priority;r++);fr.splice(r,0,t),r===0&&Jp(t)}};var ey=e.version;if(ey!=="19.1.1")throw Error(a(527,ey,"19.1.1"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var L0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{Ni=Co.inject(L0),Be=Co}catch{}}return zl.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=yg,f=_g,p=vg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Qp(t,1,!1,null,null,r,l,c,f,p,E,null),t[oi]=n.current,Zh(t),new gf(n)},zl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=yg,p=_g,E=vg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Qp(t,1,!0,n,r??null,l,c,f,p,E,b,P),n.context=Fp(null),r=n.current,l=cn(),l=xs(l),c=Ki(l),c.callback=null,Zi(r,c,l),r=l,n.current.lanes=r,le(n,r),Wn(n),t[oi]=n.current,Zh(t),new Do(n)},zl.version="19.1.1",zl}var hy;function Y0(){if(hy)return _f.exports;hy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_f.exports=F0(),_f.exports}var X0=Y0();const Kb=S_(X0),K0=()=>{};var fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},Z0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],y=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},R_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,y=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,D=(h&3)<<4|y>>4;let M=(y&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(M=64)),a.push(i[A],i[D],i[M],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(b_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Z0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],y=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const D=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||y==null||_==null||D==null)throw new $0;const M=h<<2|y>>4;if(a.push(M),_!==64){const Q=y<<4&240|_>>2;if(a.push(Q),D!==64){const J=_<<6&192|D;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J0=function(s){const e=b_(s);return R_.encodeByteArray(e,!0)},qo=function(s){return J0(s).replace(/\./g,"")},W0=function(s){try{return R_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=()=>tT().__FIREBASE_DEFAULTS__,nT=()=>{if(typeof process>"u"||typeof fy>"u")return;const s=fy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},iT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&W0(s[1]);return e&&JSON.parse(e)},nd=()=>{try{return K0()||eT()||nT()||iT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},rT=s=>nd()?.emulatorHosts?.[s],aT=s=>{const e=rT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},w_=()=>nd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qo(JSON.stringify(i)),qo(JSON.stringify(d)),""].join(".")}const Hl={};function oT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?s.emulator.push(e):s.prod.push(e);return s}function cT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let dy=!1;function hT(s,e){if(typeof window>"u"||typeof document>"u"||!id(window.location.host)||Hl[s]===e||Hl[s]||dy)return;Hl[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",h=oT().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{dy=!0,d()},M}function A(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function D(){const M=cT(a),Q=i("text"),J=document.getElementById(Q)||document.createElement("span"),rt=i("learnmore"),Z=document.getElementById(rt)||document.createElement("a"),At=i("preprendIcon"),Et=document.getElementById(At)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const gt=M.element;y(gt),A(Z,rt);const Ft=_();v(Et,At),gt.append(Et,J,Z,Ft),document.body.appendChild(gt)}h?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dT(){const s=nd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mT(){return!dT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gT(){try{return typeof indexedDB=="object"}catch{return!1}}function pT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="FirebaseError";class bs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=yT,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D_.prototype.create)}}class D_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?_T(h,a):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new bs(u,y,a)}}function _T(s,e){return s.replace(vT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const vT=/\{\$([^}]+)}/g;function ko(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(my(h)&&my(d)){if(!ko(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function my(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(s){return s&&s._delegate?s._delegate:s}class Yl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new sT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AT(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&d.resolve(u)}return u}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(a)??new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:TT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TT(s){return s===fa?void 0:s}function AT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ET(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const bT={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},RT=Ot.INFO,wT={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},DT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=wT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C_{constructor(e){this.name=e,this._logLevel=RT,this._logHandler=DT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const CT=(s,e)=>e.some(i=>s instanceof i);let gy,py;function VT(){return gy||(gy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IT(){return py||(py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V_=new WeakMap,Nf=new WeakMap,I_=new WeakMap,Af=new WeakMap,rd=new WeakMap;function NT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(gr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&V_.set(i,s)}).catch(()=>{}),rd.set(e,s),e}function OT(s){if(Nf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Nf.set(s,e)}let Of={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Nf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||I_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function MT(s){Of=s(Of)}function xT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Sf(this),e,...i);return I_.set(a,e.sort?e.sort():[e]),gr(a)}:IT().includes(s)?function(...e){return s.apply(Sf(this),e),gr(V_.get(this))}:function(...e){return gr(s.apply(Sf(this),e))}}function UT(s){return typeof s=="function"?xT(s):(s instanceof IDBTransaction&&OT(s),CT(s,VT())?new Proxy(s,Of):s)}function gr(s){if(s instanceof IDBRequest)return NT(s);if(Af.has(s))return Af.get(s);const e=UT(s);return e!==s&&(Af.set(s,e),rd.set(e,s)),e}const Sf=s=>rd.get(s);function LT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),y=gr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(gr(d.result),v.oldVersion,v.newVersion,gr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const zT=["get","getKey","getAll","getAllKeys","count"],PT=["put","add","delete","clear"],bf=new Map;function yy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=PT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||zT.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return bf.set(e,h),h}MT(s=>({...s,get:(e,i,a)=>yy(e,i)||s.get(e,i,a),has:(e,i)=>!!yy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(qT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function qT(s){return s.getComponent()?.type==="VERSION"}const Mf="@firebase/app",_y="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new C_("@firebase/app"),kT="@firebase/app-compat",HT="@firebase/analytics-compat",jT="@firebase/analytics",GT="@firebase/app-check-compat",QT="@firebase/app-check",FT="@firebase/auth",YT="@firebase/auth-compat",XT="@firebase/database",KT="@firebase/data-connect",ZT="@firebase/database-compat",$T="@firebase/functions",JT="@firebase/functions-compat",WT="@firebase/installations",t1="@firebase/installations-compat",e1="@firebase/messaging",n1="@firebase/messaging-compat",i1="@firebase/performance",r1="@firebase/performance-compat",a1="@firebase/remote-config",s1="@firebase/remote-config-compat",l1="@firebase/storage",u1="@firebase/storage-compat",o1="@firebase/firestore",c1="@firebase/ai",h1="@firebase/firestore-compat",f1="firebase",d1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="[DEFAULT]",m1={[Mf]:"fire-core",[kT]:"fire-core-compat",[jT]:"fire-analytics",[HT]:"fire-analytics-compat",[QT]:"fire-app-check",[GT]:"fire-app-check-compat",[FT]:"fire-auth",[YT]:"fire-auth-compat",[XT]:"fire-rtdb",[KT]:"fire-data-connect",[ZT]:"fire-rtdb-compat",[$T]:"fire-fn",[JT]:"fire-fn-compat",[WT]:"fire-iid",[t1]:"fire-iid-compat",[e1]:"fire-fcm",[n1]:"fire-fcm-compat",[i1]:"fire-perf",[r1]:"fire-perf-compat",[a1]:"fire-rc",[s1]:"fire-rc-compat",[l1]:"fire-gcs",[u1]:"fire-gcs-compat",[o1]:"fire-fst",[h1]:"fire-fst-compat",[c1]:"fire-vertex","fire-js":"fire-js",[f1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Map,g1=new Map,Uf=new Map;function vy(s,e){try{s.container.addComponent(e)}catch(i){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function jo(s){const e=s.name;if(Uf.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Uf.set(e,s);for(const i of Ho.values())vy(i,s);for(const i of g1.values())vy(i,s);return!0}function p1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function y1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new D_("app","Firebase",_1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=d1;function N_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:xf,automaticDataCollectionEnabled:!0,...e},u=a.name;if(typeof u!="string"||!u)throw pr.create("bad-app-name",{appName:String(u)});if(i||(i=w_()),!i)throw pr.create("no-options");const h=Ho.get(u);if(h){if(ko(i,h.options)&&ko(a,h.config))return h;throw pr.create("duplicate-app",{appName:u})}const d=new ST(u);for(const v of Uf.values())d.addComponent(v);const y=new v1(i,a,d);return Ho.set(u,y),y}function T1(s=xf){const e=Ho.get(s);if(!e&&s===xf&&w_())return N_();if(!e)throw pr.create("no-app",{appName:s});return e}function ps(s,e,i){let a=m1[s]??s;i&&(a+=`-${i}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${a}" with version "${e}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(d.join(" "));return}jo(new Yl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firebase-heartbeat-database",S1=1,Xl="firebase-heartbeat-store";let Rf=null;function O_(){return Rf||(Rf=LT(A1,S1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw pr.create("idb-open",{originalErrorMessage:s.message})})),Rf}async function b1(s){try{const i=(await O_()).transaction(Xl),a=await i.objectStore(Xl).get(M_(s));return await i.done,a}catch(e){if(e instanceof bs)Ci.warn(e.message);else{const i=pr.create("idb-get",{originalErrorMessage:e?.message});Ci.warn(i.message)}}}async function Ey(s,e){try{const a=(await O_()).transaction(Xl,"readwrite");await a.objectStore(Xl).put(e,M_(s)),await a.done}catch(i){if(i instanceof bs)Ci.warn(i.message);else{const a=pr.create("idb-set",{originalErrorMessage:i?.message});Ci.warn(a.message)}}}function M_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=1024,w1=30;class D1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new V1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ty();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>w1){const u=I1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ci.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ty(),{heartbeatsToSend:i,unsentEntries:a}=C1(this._heartbeatsCache.heartbeats),u=qo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Ci.warn(e),""}}}function Ty(){return new Date().toISOString().substring(0,10)}function C1(s,e=R1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Ay(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Ay(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class V1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gT()?pT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await b1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Ey(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Ey(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Ay(s){return qo(JSON.stringify({version:2,heartbeats:s})).length}function I1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(s){jo(new Yl("platform-logger",e=>new BT(e),"PRIVATE")),jo(new Yl("heartbeat",e=>new D1(e),"PRIVATE")),ps(Mf,_y,s),ps(Mf,_y,"esm2020"),ps("fire-js","")}N1("");var O1="firebase",M1="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(O1,M1,"app");var Sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yr,x_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.F=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(O,I,U){for(var R=Array(arguments.length-2),re=2;re<arguments.length;re++)R[re-2]=arguments[re];return S.prototype[I].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,S,w){w||(w=0);const O=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)O[I]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(I=0;I<16;++I)O[I]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],I=N.g[2];let U=N.g[3],R;R=S+(U^w&(I^U))+O[0]+3614090360&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(I^S&(w^I))+O[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=I+(w^U&(S^w))+O[2]+606105819&4294967295,I=U+(R<<17&4294967295|R>>>15),R=w+(S^I&(U^S))+O[3]+3250441966&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(U^w&(I^U))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(I^S&(w^I))+O[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=I+(w^U&(S^w))+O[6]+2821735955&4294967295,I=U+(R<<17&4294967295|R>>>15),R=w+(S^I&(U^S))+O[7]+4249261313&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(U^w&(I^U))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(I^S&(w^I))+O[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=I+(w^U&(S^w))+O[10]+4294925233&4294967295,I=U+(R<<17&4294967295|R>>>15),R=w+(S^I&(U^S))+O[11]+2304563134&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(U^w&(I^U))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(I^S&(w^I))+O[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=I+(w^U&(S^w))+O[14]+2792965006&4294967295,I=U+(R<<17&4294967295|R>>>15),R=w+(S^I&(U^S))+O[15]+1236535329&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(I^U&(w^I))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^I&(S^w))+O[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(U^S))+O[11]+643717713&4294967295,I=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(I^U))+O[0]+3921069994&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^U&(w^I))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^I&(S^w))+O[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(U^S))+O[15]+3634488961&4294967295,I=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(I^U))+O[4]+3889429448&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^U&(w^I))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^I&(S^w))+O[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(U^S))+O[3]+4107603335&4294967295,I=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(I^U))+O[8]+1163531501&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^U&(w^I))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^I&(S^w))+O[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(U^S))+O[7]+1735328473&4294967295,I=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(I^U))+O[12]+2368359562&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(w^I^U)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^I)+O[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=I+(U^S^w)+O[11]+1839030562&4294967295,I=U+(R<<16&4294967295|R>>>16),R=w+(I^U^S)+O[14]+4259657740&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^U)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^I)+O[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=I+(U^S^w)+O[7]+4139469664&4294967295,I=U+(R<<16&4294967295|R>>>16),R=w+(I^U^S)+O[10]+3200236656&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^U)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^I)+O[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=I+(U^S^w)+O[3]+3572445317&4294967295,I=U+(R<<16&4294967295|R>>>16),R=w+(I^U^S)+O[6]+76029189&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^U)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^I)+O[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=I+(U^S^w)+O[15]+530742520&4294967295,I=U+(R<<16&4294967295|R>>>16),R=w+(I^U^S)+O[2]+3299628645&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(I^(w|~U))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~I))+O[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=I+(S^(U|~w))+O[14]+2878612391&4294967295,I=U+(R<<15&4294967295|R>>>17),R=w+(U^(I|~S))+O[5]+4237533241&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~U))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~I))+O[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=I+(S^(U|~w))+O[10]+4293915773&4294967295,I=U+(R<<15&4294967295|R>>>17),R=w+(U^(I|~S))+O[1]+2240044497&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~U))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~I))+O[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=I+(S^(U|~w))+O[6]+2734768916&4294967295,I=U+(R<<15&4294967295|R>>>17),R=w+(U^(I|~S))+O[13]+1309151649&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~U))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~I))+O[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=I+(S^(U|~w))+O[2]+718787259&4294967295,I=U+(R<<15&4294967295|R>>>17),R=w+(U^(I|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const w=S-this.blockSize,O=this.C;let I=this.h,U=0;for(;U<S;){if(I==0)for(;U<=w;)u(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[I++]=N.charCodeAt(U++),I==this.blockSize){u(this,O),I=0;break}}else for(;U<S;)if(O[I++]=N[U++],I==this.blockSize){u(this,O),I=0;break}}this.h=I,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)N[S++]=this.g[w]>>>O&255;return N};function h(N,S){var w=y;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;const w=[];let O=!0;for(let I=N.length-1;I>=0;I--){const U=N[I]|0;O&&U==S||(w[I]=U,O=!1)}this.g=w}var y={};function v(N){return-128<=N&&N<128?h(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return D;if(N<0)return Z(_(-N));const S=[];let w=1;for(let O=0;N>=w;O++)S[O]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return Z(A(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(S,8));let O=D;for(let U=0;U<N.length;U+=8){var I=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+I),S);I<8?(I=_(Math.pow(S,I)),O=O.j(I).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var D=v(0),M=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(rt(this))return-Z(this).m();let N=0,S=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);N+=(O>=0?O:4294967296+O)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(rt(this))return"-"+Z(this).toString(N);const S=_(Math.pow(N,6));var w=this;let O="";for(;;){const I=Ft(w,S).g;w=At(w,I.j(S));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=I,J(w))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function rt(N){return N.h==-1}s.l=function(N){return N=At(this,N),rt(N)?-1:J(N)?0:1};function Z(N){const S=N.g.length,w=[];for(let O=0;O<S;O++)w[O]=~N.g[O];return new d(w,~N.h).add(M)}s.abs=function(){return rt(this)?Z(this):this},s.add=function(N){const S=Math.max(this.g.length,N.g.length),w=[];let O=0;for(let I=0;I<=S;I++){let U=O+(this.i(I)&65535)+(N.i(I)&65535),R=(U>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);O=R>>>16,U&=65535,R&=65535,w[I]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function At(N,S){return N.add(Z(S))}s.j=function(N){if(J(this)||J(N))return D;if(rt(this))return rt(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(rt(N))return Z(this.j(Z(N)));if(this.l(Q)<0&&N.l(Q)<0)return _(this.m()*N.m());const S=this.g.length+N.g.length,w=[];for(var O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<N.g.length;I++){const U=this.i(O)>>>16,R=this.i(O)&65535,re=N.i(I)>>>16,Wt=N.i(I)&65535;w[2*O+2*I]+=R*Wt,Et(w,2*O+2*I),w[2*O+2*I+1]+=U*Wt,Et(w,2*O+2*I+1),w[2*O+2*I+1]+=R*re,Et(w,2*O+2*I+1),w[2*O+2*I+2]+=U*re,Et(w,2*O+2*I+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function Et(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function gt(N,S){this.g=N,this.h=S}function Ft(N,S){if(J(S))throw Error("division by zero");if(J(N))return new gt(D,D);if(rt(N))return S=Ft(Z(N),S),new gt(Z(S.g),Z(S.h));if(rt(S))return S=Ft(N,Z(S)),new gt(Z(S.g),S.h);if(N.g.length>30){if(rt(N)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=M,O=S;O.l(N)<=0;)w=pt(w),O=pt(O);var I=Mt(w,1),U=Mt(O,1);for(O=Mt(O,2),w=Mt(w,2);!J(O);){var R=U.add(O);R.l(N)<=0&&(I=I.add(w),U=R),O=Mt(O,1),w=Mt(w,1)}return S=At(N,I.j(S)),new gt(I,S)}for(I=D;N.l(S)>=0;){for(w=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(w),R=U.j(S);rt(R)||R.l(N)>0;)w-=O,U=_(w),R=U.j(S);J(U)&&(U=M),I=I.add(U),N=At(N,R)}return new gt(I,N)}s.B=function(N){return Ft(this,N).h},s.and=function(N){const S=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)&N.i(O);return new d(w,this.h&N.h)},s.or=function(N){const S=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)|N.i(O);return new d(w,this.h|N.h)},s.xor=function(N){const S=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)^N.i(O);return new d(w,this.h^N.h)};function pt(N){const S=N.g.length+1,w=[];for(let O=0;O<S;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(w,N.h)}function Mt(N,S){const w=S>>5;S%=32;const O=N.g.length-w,I=[];for(let U=0;U<O;U++)I[U]=S>0?N.i(U+w)>>>S|N.i(U+w+1)<<32-S:N.i(U+w);return new d(I,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,x_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,yr=d}).apply(typeof Sy<"u"?Sy:typeof self<"u"?self:typeof window<"u"?window:{});var Vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U_,Pl,L_,xo,Lf,z_,P_,B_;(function(){var s,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vo=="object"&&Vo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in g))break t;g=g[z]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var g=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&g.push([T,m[T]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,g){return o.call.apply(o.bind,arguments)}function _(o,m,g){return _=v,_.apply(null,arguments)}function A(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function D(o,m){function g(){}g.prototype=m.prototype,o.Z=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Ob=function(T,z,k){for(var $=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)$[_t-2]=arguments[_t];return m.prototype[z].apply(T,$)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function Q(o){const m=o.length;if(m>0){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function J(o,m){for(let T=1;T<arguments.length;T++){const z=arguments[T];var g=typeof z;if(g=g!="object"?g:z?Array.isArray(z)?"array":g:"null",g=="array"||g=="object"&&typeof z.length=="number"){g=o.length||0;const k=z.length||0;o.length=g+k;for(let $=0;$<k;$++)o[g+$]=z[$]}else o.push(z)}}class rt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(o){d.setTimeout(()=>{throw o},0)}function At(){var o=N;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,g){const T=gt.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new rt(()=>new Ft,o=>o.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,Mt=!1,N=new Et,S=()=>{const o=Promise.resolve(void 0);pt=()=>{o.then(w)}};function w(){for(var o;o=At();){try{o.h.call(o.g)}catch(g){Z(g)}var m=gt;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}Mt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};d.addEventListener("test",g,m),d.removeEventListener("test",g,m)}catch{}return o})();function R(o){return/^[\s\xa0]*$/.test(o)}function re(o,m){I.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}D(re,I),re.prototype.init=function(o,m){const g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(o,m,g,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=z,this.key=++H,this.da=this.fa=!1}function ot(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function xt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function C(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function K(o){const m={};for(const g in o)m[g]=o[g];return m}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(o,m){let g,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(g in T)o[g]=T[g];for(let k=0;k<nt.length;k++)g=nt[k],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function lt(o){this.src=o,this.g={},this.h=0}lt.prototype.add=function(o,m,g,T,z){const k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);const $=dt(o,m,T,z);return $>-1?(m=o[$],g||(m.fa=!1)):(m=new tt(m,this.src,k,!!T,z),m.fa=g,o.push(m)),m};function Dt(o,m){const g=m.type;if(g in o.g){var T=o.g[g],z=Array.prototype.indexOf.call(T,m,void 0),k;(k=z>=0)&&Array.prototype.splice.call(T,z,1),k&&(ot(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function dt(o,m,g,T){for(let z=0;z<o.length;++z){const k=o[z];if(!k.da&&k.listener==m&&k.capture==!!g&&k.ha==T)return z}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),kt={};function wn(o,m,g,T,z){if(Array.isArray(m)){for(let k=0;k<m.length;k++)wn(o,m[k],g,T,z);return null}return g=ou(g),o&&o[Wt]?o.J(m,g,y(T)?!!T.capture:!1,z):Is(o,m,g,!1,T,z)}function Is(o,m,g,T,z,k){if(!m)throw Error("Invalid event type");const $=y(z)?!!z.capture:!!z;let _t=Ns(o);if(_t||(o[Ne]=_t=new lt(o)),g=_t.add(m,g,T,$,k),g.proxy)return g;if(T=Ta(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)U||(z=$),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Sa(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ta(){function o(g){return m.call(o.src,o.listener,g)}const m=pc;return o}function Aa(o,m,g,T,z){if(Array.isArray(m))for(var k=0;k<m.length;k++)Aa(o,m[k],g,T,z);else T=y(T)?!!T.capture:!!T,g=ou(g),o&&o[Wt]?(o=o.i,k=String(m).toString(),k in o.g&&(m=o.g[k],g=dt(m,g,T,z),g>-1&&(ot(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete o.g[k],o.h--)))):o&&(o=Ns(o))&&(m=o.g[m.toString()],o=-1,m&&(o=dt(m,g,T,z)),(g=o>-1?m[o]:null)&&Vr(g))}function Vr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Wt])Dt(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Sa(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=Ns(m))?(Dt(g,o),g.h==0&&(g.src=null,m[Ne]=null)):ot(o)}}}function Sa(o){return o in kt?kt[o]:kt[o]="on"+o}function pc(o,m){if(o.da)o=!0;else{m=new re(m,this);const g=o.listener,T=o.ha||o.src;o.fa&&Vr(o),o=g.call(T,m)}return o}function Ns(o){return o=o[Ne],o instanceof lt?o:null}var $e="__closure_events_fn_"+(Math.random()*1e9>>>0);function ou(o){return typeof o=="function"?o:(o[$e]||(o[$e]=function(m){return o.handleEvent(m)}),o[$e])}function Ee(){O.call(this),this.i=new lt(this),this.M=this,this.G=null}D(Ee,O),Ee.prototype[Wt]=!0,Ee.prototype.removeEventListener=function(o,m,g,T){Aa(this,o,m,g,T)};function Re(o,m){var g,T=o.G;if(T)for(g=[];T;T=T.G)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new I(m,o);else if(m instanceof I)m.target=m.target||o;else{var z=m;m=new I(T,o),W(m,z)}z=!0;let k,$;if(g)for($=g.length-1;$>=0;$--)k=m.g=g[$],z=li(k,T,!0,m)&&z;if(k=m.g=o,z=li(k,T,!0,m)&&z,z=li(k,T,!1,m)&&z,g)for($=0;$<g.length;$++)k=m.g=g[$],z=li(k,T,!1,m)&&z}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const g=o.g[m];for(let T=0;T<g.length;T++)ot(g[T]);delete o.g[m],o.h--}}this.G=null},Ee.prototype.J=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},Ee.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function li(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let k=0;k<m.length;++k){const $=m[k];if($&&!$.da&&$.capture==g){const _t=$.listener,$t=$.ha||$.src;$.fa&&Dt(o.i,$),z=_t.call($t,T)!==!1&&z}}return z&&!T.defaultPrevented}function yc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function Os(o){o.g=yc(()=>{o.g=null,o.i&&(o.i=!1,Os(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class _c extends O{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(o){O.call(this),this.h=o,this.g={}}D(Ir,O);var Ni=[];function Be(o){xt(o.g,function(m,g){this.g.hasOwnProperty(g)&&Vr(m)},o),o.g={}}Ir.prototype.N=function(){Ir.Z.N.call(this),Be(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=d.JSON.stringify,Fe=d.JSON.parse,vc=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function cu(){}function hu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oi(){I.call(this,"d")}D(Oi,I);function Dn(){I.call(this,"c")}D(Dn,I);var mn={},Mi=null;function ba(){return Mi=Mi||new Ee}mn.Ia="serverreachability";function Ms(o){I.call(this,mn.Ia,o)}D(Ms,I);function xi(o){const m=ba();Re(m,new Ms(m))}mn.STAT_EVENT="statevent";function Ra(o,m){I.call(this,mn.STAT_EVENT,o),this.stat=m}D(Ra,I);function le(o){const m=ba();Re(m,new Ra(m,o))}mn.Ja="timingevent";function fu(o,m){I.call(this,mn.Ja,o),this.size=m}D(fu,I);function Ui(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function Li(){this.g=!0}Li.prototype.ua=function(){this.g=!1};function xs(o,m,g,T,z,k){o.info(function(){if(o.g)if(k){var $="",_t=k.split("&");for(let Pt=0;Pt<_t.length;Pt++){var $t=_t[Pt].split("=");if($t.length>1){const ce=$t[0];$t=$t[1];const rn=ce.split("_");$=rn.length>=2&&rn[1]=="type"?$+(ce+"="+$t+"&"):$+(ce+"=redacted&")}}}else $=null;else $=k;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+g+`
`+$})}function Us(o,m,g,T,z,k,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+g+`
`+k+" "+$})}function ui(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+kn(o,g)+(T?" "+T:"")})}function Ec(o,m){o.info(function(){return"TIMEOUT: "+m})}Li.prototype.info=function(){};function kn(o,m){if(!o.g)return m;if(!m)return null;try{const k=JSON.parse(m);if(k){for(o=0;o<k.length;o++)if(Array.isArray(k[o])){var g=k[o];if(!(g.length<2)){var T=g[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return dn(k)}catch{return m}}var ue={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},oi;function Nr(){}D(Nr,cu),Nr.prototype.g=function(){return new XMLHttpRequest},oi=new Nr;function Or(o){return encodeURIComponent(String(o))}function Tc(o){var m=1;o=o.split(":");const g=[];for(;m>0&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function Cn(o,m,g,T){this.j=o,this.i=m,this.l=g,this.S=T||1,this.V=new Ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zi}function zi(){this.i=null,this.g="",this.h=!1}var wa={},Hn={};function jn(o,m,g){o.M=1,o.A=hi(ee(m)),o.u=g,o.R=!0,Pi(o,null)}function Pi(o,m){o.F=Date.now(),Mr(o),o.B=ee(o.A);var g=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),pu(g.i,"t",T),o.C=0,g=o.j.L,o.h=new zi,o.g=La(o.j,g?m:null,!o.u),o.P>0&&(o.O=new _c(_(o.Y,o,o.g),o.P)),m=o.V,g=o.g,T=o.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ni[0]=z.toString()),z=Ni);for(let k=0;k<z.length;k++){const $=wn(g,z[k],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.J?K(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),xi(),xs(o.i,o.v,o.B,o.l,o.S,o.u)}Cn.prototype.ba=function(o){o=o.target;const m=this.O;m&&qe(o)==3?m.j():this.Y(o)},Cn.prototype.Y=function(o){try{if(o==this.g)t:{const _t=qe(this.g),$t=this.g.ya(),Pt=this.g.ca();if(!(_t<3)&&(_t!=3||this.g&&(this.h.h||this.g.la()||Gr(this.g)))){this.K||_t!=4||$t==7||($t==8||Pt<=0?xi(3):xi(2)),Qn(this);var m=this.g.ca();this.X=m;var g=Bi(this);if(this.o=m==200,Us(this.i,this.v,this.B,this.l,this.S,_t,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var k=T;break e}}k=null}if(o=k)ui(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Da(this,o);else{this.o=!1,this.m=3,le(12),Fn(this),xr(this);break t}}if(this.R){o=!0;let ce;for(;!this.K&&this.C<g.length;)if(ce=du(this,g),ce==Hn){_t==4&&(this.m=4,le(14),o=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==wa){this.m=4,le(15),ui(this.i,this.l,g,"[Invalid Chunk]"),o=!1;break}else ui(this.i,this.l,ce,null),Da(this,ce);if(oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||g.length!=0||this.h.h||(this.m=1,le(16),o=!1),this.o=this.o&&o,!o)ui(this.i,this.l,g,"[Invalid Chunked Response]"),Fn(this),xr(this);else if(g.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Qs($),$.P=!0,le(11))}}else ui(this.i,this.l,g,null),Da(this,g);_t==4&&Fn(this),this.o&&!this.K&&(_t==4?Fs(this.j,this):(this.o=!1,Mr(this)))}else Qr(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,le(12)):(this.m=0,le(13)),Fn(this),xr(this)}}}catch{}finally{}};function Bi(o){if(!oe(o))return o.g.la();const m=Gr(o.g);if(m==="")return"";let g="";const T=m.length,z=qe(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Fn(o),xr(o),"";o.h.i=new d.TextDecoder}for(let k=0;k<T;k++)o.h.h=!0,g+=o.h.i.decode(m[k],{stream:!(z&&k==T-1)});return m.length=0,o.h.g+=g,o.C=0,o.h.g}function oe(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function du(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?Hn:(g=Number(m.substring(g,T)),isNaN(g)?wa:(T+=1,T+g>m.length?Hn:(m=m.slice(T,T+g),o.C=T+g,m)))}Cn.prototype.cancel=function(){this.K=!0,Fn(this)};function Mr(o){o.T=Date.now()+o.H,Gn(o,o.H)}function Gn(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Ui(_(o.aa,o),m)}function Qn(o){o.D&&(d.clearTimeout(o.D),o.D=null)}Cn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Ec(this.i,this.B),this.M!=2&&(xi(),le(17)),Fn(this),this.m=2,xr(this)):Gn(this,this.T-o)};function xr(o){o.j.I==0||o.K||Fs(o.j,o)}function Fn(o){Qn(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,Be(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function Da(o,m){try{var g=o.j;if(g.I!=0&&(g.g==o||zr(g.h,o))){if(!o.L&&zr(g.h,o)&&g.I==3){try{var T=g.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!g.v){if(g.g)if(g.g.F+3e3<o.F)Ua(g),Yn(g);else break t;Gs(g),le(18)}}else g.xa=z[1],0<g.xa-g.K&&z[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Ui(_(g.Va,g),6e3));gn(g.h)<=1&&g.ta&&(g.ta=void 0)}else mi(g,11)}else if((o.L||g.g==o)&&Ua(g),!R(m))for(z=g.Ba.g.parse(m),m=0;m<z.length;m++){let Pt=z[m];const ce=Pt[0];if(!(ce<=g.K))if(g.K=ce,Pt=Pt[1],g.I==2)if(Pt[0]=="c"){g.M=Pt[1],g.ba=Pt[2];const rn=Pt[3];rn!=null&&(g.ka=rn,g.j.info("VER="+g.ka));const Xn=Pt[4];Xn!=null&&(g.za=Xn,g.j.info("SVER="+g.za));const Nn=Pt[5];Nn!=null&&typeof Nn=="number"&&Nn>0&&(T=1.5*Nn,g.O=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const On=o.g;if(On){const Mn=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mn){var k=T.h;k.g||Mn.indexOf("spdy")==-1&&Mn.indexOf("quic")==-1&&Mn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Ca(k,k.h),k.h=null))}if(T.G){const Xs=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;Xs&&(T.wa=Xs,Ht(T.J,T.G,Xs))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-o.F,g.j.info("Handshake RTT: "+g.T+"ms")),T=g;var $=o;if(T.na=Ru(T,T.L?T.ba:null,T.W),$.L){ci(T.h,$);var _t=$,$t=T.O;$t&&(_t.H=$t),_t.D&&(Qn(_t),Mr(_t)),T.g=$}else Tu(T);g.i.length>0&&Kr(g)}else Pt[0]!="stop"&&Pt[0]!="close"||mi(g,7);else g.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?mi(g,7):Yr(g):Pt[0]!="noop"&&g.l&&g.l.qa(Pt),g.A=0)}}xi(4)}catch{}}var Ac=class{constructor(o,m){this.g=o,this.map=m}};function Ur(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function gn(o){return o.h?1:o.g?o.g.size:0}function zr(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ca(o,m){o.g?o.g.add(m):o.h=m}function ci(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Ur.prototype.cancel=function(){if(this.i=Va(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Va(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.G);return m}return Q(o.i)}var Ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sc(o,m){if(o){o=o.split("&");for(let g=0;g<o.length;g++){const T=o[g].indexOf("=");let z,k=null;T>=0?(z=o[g].substring(0,T),k=o[g].substring(T+1)):z=o[g],m(z,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Vn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof Vn?(this.l=o.l,qi(this,o.j),this.o=o.o,this.g=o.g,Pr(this,o.u),this.h=o.h,ki(this,yu(o.i)),this.m=o.m):o&&(m=String(o).match(Ia))?(this.l=!1,qi(this,m[1]||"",!0),this.o=Br(m[2]||""),this.g=Br(m[3]||"",!0),Pr(this,m[4]),this.h=Br(m[5]||"",!0),ki(this,m[6]||"",!0),this.m=Br(m[7]||"")):(this.l=!1,this.i=new pn(null,this.l))}Vn.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(we(m,zs,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(we(m,zs,!0),"@"),o.push(Or(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&o.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(we(g,g.charAt(0)=="/"?Hi:Ps,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",we(g,gu)),o.join("")},Vn.prototype.resolve=function(o){const m=ee(this);let g=!!o.j;g?qi(m,o.j):g=!!o.o,g?m.o=o.o:g=!!o.g,g?m.g=o.g:g=o.u!=null;var T=o.h;if(g)Pr(m,o.u);else if(g=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=m.h.lastIndexOf("/");z!=-1&&(T=m.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const k=[];for(let $=0;$<z.length;){const _t=z[$++];_t=="."?T&&$==z.length&&k.push(""):_t==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),T&&$==z.length&&k.push("")):(k.push(_t),T=!0)}T=k.join("/")}else T=z}return g?m.h=T:g=o.i.toString()!=="",g?ki(m,yu(o.i)):g=!!o.m,g&&(m.m=o.m),m};function ee(o){return new Vn(o)}function qi(o,m,g){o.j=g?Br(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Pr(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function ki(o,m,g){m instanceof pn?(o.i=m,ks(o.i,o.l)):(g||(m=we(m,mu)),o.i=new pn(m,o.l))}function Ht(o,m,g){o.i.set(m,g)}function hi(o){return Ht(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Br(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function we(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,Ls),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Ls(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var zs=/[#\/\?@]/g,Ps=/[#\?:]/g,Hi=/[#\?]/g,mu=/[#\?@]/g,gu=/#/g;function pn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function fi(o){o.g||(o.g=new Map,o.h=0,o.i&&Sc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=pn.prototype,s.add=function(o,m){fi(this),this.i=null,o=In(this,o);let g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function Bs(o,m){fi(o),m=In(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function qs(o,m){return fi(o),m=In(o,m),o.g.has(m)}s.forEach=function(o,m){fi(this),this.g.forEach(function(g,T){g.forEach(function(z){o.call(m,z,T,this)},this)},this)};function Na(o,m){fi(o);let g=[];if(typeof m=="string")qs(o,m)&&(g=g.concat(o.g.get(In(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)g=g.concat(o[m]);return g}s.set=function(o,m){return fi(this),this.i=null,o=In(this,o),qs(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=Na(this,o),o.length>0?String(o[0]):m):m};function pu(o,m,g){Bs(o,m),g.length>0&&(o.i=null,o.g.set(In(o,m),Q(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var g=m[T];const z=Or(g);g=Na(this,g);for(let k=0;k<g.length;k++){let $=z;g[k]!==""&&($+="="+Or(g[k])),o.push($)}}return this.i=o.join("&")};function yu(o){const m=new pn;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function In(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ks(o,m){m&&!o.j&&(fi(o),o.i=null,o.g.forEach(function(g,T){const z=T.toLowerCase();T!=z&&(Bs(this,T),pu(this,z,g))},o)),o.j=m}function Hs(o,m){const g=new Li;if(d.Image){const T=new Image;T.onload=A(Ye,g,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Ye,g,"TestLoadImage: error",!1,m,T),T.onabort=A(Ye,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Ye,g,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function ji(o,m){const g=new Li,T=new AbortController,z=setTimeout(()=>{T.abort(),Ye(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(z),k.ok?Ye(g,"TestPingServer: ok",!0,m):Ye(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Ye(g,"TestPingServer: error",!1,m)})}function Ye(o,m,g,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(g)}catch{}}function _u(){this.g=new vc}function qr(o){this.i=o.Sb||null,this.h=o.ab||!1}D(qr,cu),qr.prototype.g=function(){return new kr(this.i,this.h)};function kr(o,m){Ee.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}D(kr,Ee),s=kr.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,di(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xe(this)),this.readyState=0},s.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gi(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gi(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}s.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Xe(this):di(this),this.readyState==3&&Gi(this)}},s.Oa=function(o){this.g&&(this.response=this.responseText=o,Xe(this))},s.Na=function(o){this.g&&(this.response=o,Xe(this))},s.ga=function(){this.g&&Xe(this)};function Xe(o){o.readyState=4,o.l=null,o.j=null,o.B=null,di(o)}s.setRequestHeader=function(o,m){this.A.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function di(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Qi(o){let m="";return xt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function yn(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Qi(g),typeof o=="string"?g!=null&&Or(g):Ht(o,m,g))}function Xt(o){Ee.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}D(Xt,Ee);var Oa=/^https?$/i,vu=["POST","PUT"];s=Xt.prototype,s.Fa=function(o){this.H=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():oi.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){Hr(this,k);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)g.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),z=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(vu,m,void 0)>=0)||T||z||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,$]of g)this.g.setRequestHeader(k,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(k){Hr(this,k)}};function Hr(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,jr(o),Te(o)}function jr(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Re(this,"complete"),Re(this,"abort"),Te(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Te(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},s.Xa=function(){js(this)};function js(o){if(o.h&&typeof h<"u"){if(o.v&&qe(o)==4)setTimeout(o.Ca.bind(o),0);else if(Re(o,"readystatechange"),qe(o)==4){o.h=!1;try{const k=o.ca();t:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=k===0){let $=String(o.D).match(Ia)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!Oa.test($?$.toLowerCase():"")}g=T}if(g)Re(o,"complete"),Re(o,"success");else{o.o=6;try{var z=qe(o)>2?o.g.statusText:""}catch{z=""}o.l=z+" ["+o.ca()+"]",jr(o)}}finally{Te(o)}}}}function Te(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const g=o.g;o.g=null,m||Re(o,"ready");try{g.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function qe(o){return o.g?o.g.readyState:0}s.ca=function(){try{return qe(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Fe(m)}};function Gr(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Qr(o){const m={};o=(o.g&&qe(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(R(o[T]))continue;var g=Tc(o[T]);const z=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=m[z]||[];m[z]=k,k.push(g)}C(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Ma(o){this.za=0,this.i=[],this.j=new Li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fr("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fr("baseRetryDelayMs",5e3,o),this.Za=Fr("retryDelaySeedMs",1e4,o),this.Ta=Fr("forwardChannelMaxRetries",2,o),this.va=Fr("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Ur(o&&o.concurrentRequestLimit),this.Ba=new _u,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ma.prototype,s.ka=8,s.I=1,s.connect=function(o,m,g,T){le(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.J=Ru(this,null,this.W),Kr(this)};function Yr(o){if(Xr(o),o.I==3){var m=o.V++,g=ee(o.J);if(Ht(g,"SID",o.M),Ht(g,"RID",m),Ht(g,"TYPE","terminate"),Zr(o,g),m=new Cn(o,o.j,m),m.M=2,m.A=hi(ee(g)),g=!1,d.navigator&&d.navigator.sendBeacon)try{g=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&d.Image&&(new Image().src=m.A,g=!0),g||(m.g=La(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Mr(m)}bu(o)}function Yn(o){o.g&&(Qs(o),o.g.cancel(),o.g=null)}function Xr(o){Yn(o),o.v&&(d.clearTimeout(o.v),o.v=null),Ua(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function Kr(o){if(!Lr(o.h)&&!o.m){o.m=!0;var m=o.Ea;pt||S(),Mt||(pt(),Mt=!0),N.add(m,o),o.D=0}}function bc(o,m){return gn(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Ui(_(o.Ea,o,m),Su(o,o.D)),o.D++,!0)}s.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const z=new Cn(this,this.j,o);let k=this.o;if(this.U&&(k?(k=K(k),W(k,this.U)):k=this.U),this.u!==null||this.R||(z.J=k,k=null),this.S)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=xa(this,z,m),g=ee(this.J),Ht(g,"RID",o),Ht(g,"CVER",22),this.G&&Ht(g,"X-HTTP-Session-Id",this.G),Zr(this,g),k&&(this.R?m="headers="+Or(Qi(k))+"&"+m:this.u&&yn(g,this.u,k)),Ca(this.h,z),this.Ra&&Ht(g,"TYPE","init"),this.S?(Ht(g,"$req",m),Ht(g,"SID","null"),z.U=!0,jn(z,g,null)):jn(z,g,m),this.I=2}}else this.I==3&&(o?Eu(this,o):this.i.length==0||Lr(this.h)||Eu(this))};function Eu(o,m){var g;m?g=m.l:g=o.V++;const T=ee(o.J);Ht(T,"SID",o.M),Ht(T,"RID",g),Ht(T,"AID",o.K),Zr(o,T),o.u&&o.o&&yn(T,o.u,o.o),g=new Cn(o,o.j,g,o.D+1),o.u===null&&(g.J=o.o),m&&(o.i=m.G.concat(o.i)),m=xa(o,g,1e3),g.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Ca(o.h,g),jn(g,T,m)}function Zr(o,m){o.H&&xt(o.H,function(g,T){Ht(m,T,g)}),o.l&&xt({},function(g,T){Ht(m,T,g)})}function xa(o,m,g){g=Math.min(o.i.length,g);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var z=o.i;let _t=-1;for(;;){const $t=["count="+g];_t==-1?g>0?(_t=z[0].g,$t.push("ofs="+_t)):_t=0:$t.push("ofs="+_t);let Pt=!0;for(let ce=0;ce<g;ce++){var k=z[ce].g;const rn=z[ce].map;if(k-=_t,k<0)_t=Math.max(0,z[ce].g-100),Pt=!1;else try{k="req"+k+"_"||"";try{var $=rn instanceof Map?rn:Object.entries(rn);for(const[Xn,Nn]of $){let On=Nn;y(Nn)&&(On=dn(Nn)),$t.push(k+Xn+"="+encodeURIComponent(On))}}catch(Xn){throw $t.push(k+"type="+encodeURIComponent("_badmap")),Xn}}catch{T&&T(rn)}}if(Pt){$=$t.join("&");break t}}$=void 0}return o=o.i.splice(0,g),m.G=o,$}function Tu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;pt||S(),Mt||(pt(),Mt=!0),N.add(m,o),o.A=0}}function Gs(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Ui(_(o.Da,o),Su(o,o.A)),o.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Ui(_(this.Wa,this),o)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,le(10),Yn(this),Au(this))};function Qs(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function Au(o){o.g=new Cn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=ee(o.na);Ht(m,"RID","rpc"),Ht(m,"SID",o.M),Ht(m,"AID",o.K),Ht(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ht(m,"TO",o.ia),Ht(m,"TYPE","xmlhttp"),Zr(o,m),o.u&&o.o&&yn(m,o.u,o.o),o.O&&(o.g.H=o.O);var g=o.g;o=o.ba,g.M=1,g.A=hi(ee(m)),g.u=null,g.R=!0,Pi(g,o)}s.Va=function(){this.C!=null&&(this.C=null,Yn(this),Gs(this),le(19))};function Ua(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Fs(o,m){var g=null;if(o.g==m){Ua(o),Qs(o),o.g=null;var T=2}else if(zr(o.h,m))g=m.G,ci(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var z=o.D;T=ba(),Re(T,new fu(T,g)),Kr(o)}else Tu(o);else if(z=m.m,z==3||z==0&&m.X>0||!(T==1&&bc(o,m)||T==2&&Gs(o)))switch(g&&g.length>0&&(m=o.h,m.i=m.i.concat(g)),z){case 1:mi(o,5);break;case 4:mi(o,10);break;case 3:mi(o,6);break;default:mi(o,2)}}}function Su(o,m){let g=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(g*=2),g*m}function mi(o,m){if(o.j.info("Error code "+m),m==2){var g=_(o.bb,o),T=o.Ua;const z=!T;T=new Vn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qi(T,"https"),hi(T),z?Hs(T.toString(),g):ji(T.toString(),g)}else le(2);o.I=0,o.l&&o.l.pa(m),bu(o),Xr(o)}s.bb=function(o){o?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function bu(o){if(o.I=0,o.ja=[],o.l){const m=Va(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ja,m),J(o.ja,o.i),o.h.i.length=0,Q(o.i),o.i.length=0),o.l.oa()}}function Ru(o,m,g){var T=g instanceof Vn?ee(g):new Vn(g);if(T.g!="")m&&(T.g=m+"."+T.g),Pr(T,T.u);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const k=new Vn(null);T&&qi(k,T),m&&(k.g=m),z&&Pr(k,z),g&&(k.h=g),T=k}return g=o.G,m=o.wa,g&&m&&Ht(T,g,m),Ht(T,"VER",o.ka),Zr(o,T),T}function La(o,m,g){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Xt(new qr({ab:g})):new Xt(o.ma),m.Fa(o.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function za(){}za.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){Ee.call(this),this.g=new Ma(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!R(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fi(this)}D(Ke,Ee),Ke.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){Yr(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.v&&(g={},g.__data__=dn(o),o=g);m.i.push(new Ac(m.Ya++,o)),m.I==3&&Kr(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,Yr(this.g),delete this.g,Ke.Z.N.call(this)};function Ys(o){Oi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}D(Ys,Oi);function Du(){Dn.call(this),this.status=1}D(Du,Dn);function Fi(o){this.g=o}D(Fi,wu),Fi.prototype.ra=function(){Re(this.g,"a")},Fi.prototype.qa=function(o){Re(this.g,new Ys(o))},Fi.prototype.pa=function(o){Re(this.g,new Du)},Fi.prototype.oa=function(){Re(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,B_=function(){return new za},P_=function(){return ba()},z_=mn,Lf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,xo=ue,Oe.COMPLETE="complete",L_=Oe,hu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Pl=hu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,U_=Xt}).apply(typeof Vo<"u"?Vo:typeof self<"u"?self:typeof window<"u"?window:{});const by="@firebase/firestore",Ry="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new C_("@firebase/firestore");function fs(){return pa.logLevel}function it(s,...e){if(pa.logLevel<=Ot.DEBUG){const i=e.map(ad);pa.debug(`Firestore (${Rs}): ${s}`,...i)}}function Vi(s,...e){if(pa.logLevel<=Ot.ERROR){const i=e.map(ad);pa.error(`Firestore (${Rs}): ${s}`,...i)}}function _s(s,...e){if(pa.logLevel<=Ot.WARN){const i=e.map(ad);pa.warn(`Firestore (${Rs}): ${s}`,...i)}}function ad(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,q_(s,a,i)}function q_(s,e,i){let a=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Vi(a),new Error(a)}function zt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||q_(e,u,a)}function vt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends bs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ge.UNAUTHENTICATED)))}shutdown(){}}class U1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class L1{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){zt(this.o===void 0,42304);let a=this.i;const u=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new _r,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new _r)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(zt(typeof a.accessToken=="string",31837,{l:a}),new k_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zt(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class z1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new z1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ge.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,y1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){zt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new wy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=q1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Ct(s,e){return s<e?-1:s>e?1:0}function zf(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const u=s.charAt(a),h=e.charAt(a);if(u!==h)return wf(u)===wf(h)?Ct(u,h):wf(u)?1:-1}return Ct(s.length,e.length)}const k1=55296,H1=57343;function wf(s){const e=s.charCodeAt(0);return e>=k1&&e<=H1}function vs(s,e,i){return s.length===e.length&&s.every(((a,u)=>i(a,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="__name__";class ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&ft(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ft(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=ti.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Ct(e.length,i.length)}static compareSegments(e,i){const a=ti.isNumericId(e),u=ti.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?ti.extractNumericId(e).compare(ti.extractNumericId(i)):zf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class Zt extends ti{construct(e,i,a){return new Zt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new et(F.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((u=>u.length>0)))}return new Zt(i)}static emptyPath(){return new Zt([])}}const j1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ti{construct(e,i,a){return new ze(e,i,a)}static isValidIdentifier(e){return j1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dy}static keyField(){return new ze([Dy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new et(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new et(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new et(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(a+=y,u++):(h(),u++)}if(h(),d)throw new et(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Zt.fromString(e))}static fromName(e){return new ut(Zt.fromString(e).popFirst(5))}static empty(){return new ut(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(s,e,i){if(!i)throw new et(F.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function G1(s,e,i,a){if(e===!0&&a===!0)throw new et(F.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Cy(s){if(!ut.isDocumentKey(s))throw new et(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Vy(s){if(ut.isDocumentKey(s))throw new et(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function j_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function tc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ft(12329,{type:typeof s})}function zn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new et(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=tc(s);throw new et(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(s,e){const i={typeString:s};return e&&(i.value=e),i}function iu(s,e){if(!j_(s))throw new et(F.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const u=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(u&&typeof d!==u){i=`JSON field '${a}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new et(F.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=-62135596800,Ny=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Ny);return new Jt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new et(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new et(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Iy)throw new et(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ny}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Iy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:ve("string",Jt._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Jt(0,0))}static max(){return new yt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function Q1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(a===1e9?new Jt(i+1,0):new Jt(i,a));return new Er(u,ut.empty(),e)}function F1(s){return new Er(s.readTime,s.key,Kl)}class Er{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Er(yt.min(),ut.empty(),Kl)}static max(){return new Er(yt.max(),ut.empty(),Kl)}}function Y1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,e.documentKey),i!==0?i:Ct(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(s){if(s.code!==F.FAILED_PRECONDITION||s.message!==X1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let u=0,h=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&i()}),(v=>a(v)))})),d=!0,h===u&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((u=>u?X.resolve(u):a()));return i}static forEach(e,i){const a=[];return e.forEach(((u,h)=>{a.push(i.call(this,u,h))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,u)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&a(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new X(((a,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):a()};h()}))}}function Z1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ds(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ec.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=-1;function nc(s){return s==null}function Go(s){return s===0&&1/s==-1/0}function $1(s){return typeof s=="number"&&Number.isInteger(s)&&!Go(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="";function J1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Oy(e)),e=W1(s.get(i),e);return Oy(e)}function W1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case G_:i+="";break;default:i+=h}}return i}function Oy(s){return s+G_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function wr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Q_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Io(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Io(this.root,e,this.comparator,!1)}getReverseIterator(){return new Io(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Io(this.root,e,this.comparator,!0)}}class Io{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Le.RED,this.left=u??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Le(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Le.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ft(27949);return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new xy(this.data.getIterator())}getIteratorFrom(e){return new xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(ze.comparator)}static empty(){return new fn([])}unionWith(e){let i=new be(ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new F_("Invalid base64 string: "+h):h}})(e);return new Pe(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const tA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(s){if(zt(!!s,39018),typeof s=="string"){let e=0;const i=tA.exec(s);if(zt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ar(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="server_timestamp",X_="__type__",K_="__previous_value__",Z_="__local_write_time__";function ud(s){return(s?.mapValue?.fields||{})[X_]?.stringValue===Y_}function ic(s){const e=s.mapValue.fields[K_];return ud(e)?ic(e):e}function Zl(s){const e=Tr(s.mapValue.fields[Z_].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,i,a,u,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Qo="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||Qo}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Qo}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="__type__",nA="__max__",No={mapValue:{}},J_="__vector__",Fo="value";function Sr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ud(s)?4:rA(s)?9007199254740991:iA(s)?10:11:ft(28295,{value:s})}function si(s,e){if(s===e)return!0;const i=Sr(s);if(i!==Sr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Tr(u.timestampValue),y=Tr(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(u,h){return Ar(u.bytesValue).isEqual(Ar(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(u,h){return de(u.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(u.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(s,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return de(u.integerValue)===de(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=de(u.doubleValue),y=de(h.doubleValue);return d===y?Go(d)===Go(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return vs(s.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(My(d)!==My(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!si(d[v],y[v])))return!1;return!0})(s,e);default:return ft(52216,{left:s})}}function Jl(s,e){return(s.values||[]).find((i=>si(i,e)))!==void 0}function Es(s,e){if(s===e)return 0;const i=Sr(s),a=Sr(e);if(i!==a)return Ct(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return Uy(s.timestampValue,e.timestampValue);case 4:return Uy(Zl(s),Zl(e));case 5:return zf(s.stringValue,e.stringValue);case 6:return(function(h,d){const y=Ar(h),v=Ar(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Ct(y[_],v[_]);if(A!==0)return A}return Ct(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Ct(de(h.latitude),de(d.latitude));return y!==0?y:Ct(de(h.longitude),de(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Ly(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[Fo]?.arrayValue,A=v[Fo]?.arrayValue,D=Ct(_?.values?.length||0,A?.values?.length||0);return D!==0?D:Ly(_,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===No.mapValue&&d===No.mapValue)return 0;if(h===No.mapValue)return 1;if(d===No.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let D=0;D<v.length&&D<A.length;++D){const M=zf(v[D],A[D]);if(M!==0)return M;const Q=Es(y[v[D]],_[A[D]]);if(Q!==0)return Q}return Ct(v.length,A.length)})(s.mapValue,e.mapValue);default:throw ft(23264,{he:i})}}function Uy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ct(s,e);const i=Tr(s),a=Tr(e),u=Ct(i.seconds,a.seconds);return u!==0?u:Ct(i.nanos,a.nanos)}function Ly(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=Es(i[u],a[u]);if(h)return h}return Ct(i.length,a.length)}function Ts(s){return Pf(s)}function Pf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Tr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ut.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Pf(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Pf(i.fields[d])}`;return u+"}"})(s.mapValue):ft(61005,{value:s})}function Uo(s){switch(Sr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ic(s);return e?16+Uo(e):16;case 5:return 2*s.stringValue.length;case 6:return Ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((u,h)=>u+Uo(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let u=0;return wr(a.fields,((h,d)=>{u+=h.length+Uo(d)})),u})(s.mapValue);default:throw ft(13486,{value:s})}}function zy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Bf(s){return!!s&&"integerValue"in s}function od(s){return!!s&&"arrayValue"in s}function Py(s){return!!s&&"nullValue"in s}function By(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Lo(s){return!!s&&"mapValue"in s}function iA(s){return(s?.mapValue?.fields||{})[$_]?.stringValue===J_}function jl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return wr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=jl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(s.arrayValue.values[i]);return e}return{...s}}function rA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===nA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Lo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=ze.emptyPath(),a={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,a,u),a={},u=[],i=y.popLast()}d?a[y.lastSegment()]=jl(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Lo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Lo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){wr(i,((u,h)=>e[u]=h));for(const u of a)delete e[u]}clone(){return new nn(jl(this.value))}}function W_(s){const e=[];return wr(s.fields,((i,a)=>{const u=new ze([i]);if(Lo(a)){const h=W_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Qe(e,0,yt.min(),yt.min(),yt.min(),nn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,yt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,yt.min(),yt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,yt.min(),yt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,i){this.position=e,this.inclusive=i}}function qy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),i.key):a=Es(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function ky(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!si(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,i="asc"){this.field=e,this.dir=i}}function aA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{}class _e extends tv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new lA(e,i,a):i==="array-contains"?new cA(e,a):i==="in"?new hA(e,a):i==="not-in"?new fA(e,a):i==="array-contains-any"?new dA(e,a):new _e(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new uA(e,a):new oA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Es(i,this.value)):i!==null&&Sr(this.value)===Sr(i)&&this.matchesComparison(Es(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends tv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Bn(e,i)}matches(e){return ev(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ev(s){return s.op==="and"}function nv(s){return sA(s)&&ev(s)}function sA(s){for(const e of s.filters)if(e instanceof Bn)return!1;return!0}function qf(s){if(s instanceof _e)return s.field.canonicalString()+s.op.toString()+Ts(s.value);if(nv(s))return s.filters.map((e=>qf(e))).join(",");{const e=s.filters.map((i=>qf(i))).join(",");return`${s.op}(${e})`}}function iv(s,e){return s instanceof _e?(function(a,u){return u instanceof _e&&a.op===u.op&&a.field.isEqual(u.field)&&si(a.value,u.value)})(s,e):s instanceof Bn?(function(a,u){return u instanceof Bn&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce(((h,d,y)=>h&&iv(d,u.filters[y])),!0):!1})(s,e):void ft(19439)}function rv(s){return s instanceof _e?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ts(i.value)}`})(s):s instanceof Bn?(function(i){return i.op.toString()+" {"+i.getFilters().map(rv).join(" ,")+"}"})(s):"Filter"}class lA extends _e{constructor(e,i,a){super(e,i,a),this.key=ut.fromName(a.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class uA extends _e{constructor(e,i){super(e,"in",i),this.keys=av("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class oA extends _e{constructor(e,i){super(e,"not-in",i),this.keys=av("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function av(s,e){return(e.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class cA extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return od(i)&&Jl(i.arrayValue,this.value)}}class hA extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class fA extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class dA extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!od(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Jl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,i=null,a=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function Hy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new mA(s,e,i,a,u,h,d)}function cd(s){const e=vt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>qf(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),nc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Ts(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Ts(a))).join(",")),e.Te=i}return e.Te}function hd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!aA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!iv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ky(s.startAt,e.startAt)&&ky(s.endAt,e.endAt)}function kf(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,i=null,a=[],u=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gA(s,e,i,a,u,h,d,y){return new Cs(s,e,i,a,u,h,d,y)}function fd(s){return new Cs(s)}function jy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function sv(s){return s.collectionGroup!==null}function Gl(s){const e=vt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new be(ze.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Wl(h,a))})),i.has(ze.keyField().canonicalString())||e.Ie.push(new Wl(ze.keyField(),a))}return e.Ie}function ei(s){const e=vt(s);return e.Ee||(e.Ee=pA(e,Gl(s))),e.Ee}function pA(s,e){if(s.limitType==="F")return Hy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new Wl(u.field,h)}));const i=s.endAt?new Yo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Yo(s.startAt.position,s.startAt.inclusive):null;return Hy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Hf(s,e){const i=s.filters.concat([e]);return new Cs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function jf(s,e,i){return new Cs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function rc(s,e){return hd(ei(s),ei(e))&&s.limitType===e.limitType}function lv(s){return`${cd(ei(s))}|lt:${s.limitType}`}function ds(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((u=>rv(u))).join(", ")}]`),nc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((u=>Ts(u))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((u=>Ts(u))).join(",")),`Target(${a})`})(ei(s))}; limitType=${s.limitType})`}function ac(s,e){return e.isFoundDocument()&&(function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ut.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,e)&&(function(a,u){for(const h of Gl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0})(s,e)&&(function(a,u){return!(a.startAt&&!(function(d,y,v){const _=qy(d,y,v);return d.inclusive?_<=0:_<0})(a.startAt,Gl(a),u)||a.endAt&&!(function(d,y,v){const _=qy(d,y,v);return d.inclusive?_>=0:_>0})(a.endAt,Gl(a),u))})(s,e)}function yA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function uv(s){return(e,i)=>{let a=!1;for(const u of Gl(s)){const h=_A(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function _A(s,e,i){const a=s.field.isKeyField()?ut.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Es(v,_):ft(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ft(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){wr(this.inner,((i,a)=>{for(const[u,h]of a)e(u,h)}))}isEmpty(){return Q_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new ie(ut.comparator);function Ii(){return vA}const ov=new ie(ut.comparator);function Bl(...s){let e=ov;for(const i of s)e=e.insert(i.key,i);return e}function cv(s){let e=ov;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function da(){return Ql()}function hv(){return Ql()}function Ql(){return new va((s=>s.toString()),((s,e)=>s.isEqual(e)))}const EA=new ie(ut.comparator),TA=new be(ut.comparator);function Vt(...s){let e=TA;for(const i of s)e=e.add(i);return e}const AA=new be(Ct);function SA(){return AA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Go(e)?"-0":e}}function fv(s){return{integerValue:""+s}}function bA(s,e){return $1(e)?fv(e):dd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this._=void 0}}function RA(s,e,i){return s instanceof tu?(function(u,h){const d={fields:{[X_]:{stringValue:Y_},[Z_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ud(h)&&(h=ic(h)),h&&(d.fields[K_]=h),{mapValue:d}})(i,e):s instanceof eu?mv(s,e):s instanceof nu?gv(s,e):(function(u,h){const d=dv(u,h),y=Gy(d)+Gy(u.Ae);return Bf(d)&&Bf(u.Ae)?fv(y):dd(u.serializer,y)})(s,e)}function wA(s,e,i){return s instanceof eu?mv(s,e):s instanceof nu?gv(s,e):i}function dv(s,e){return s instanceof Xo?(function(a){return Bf(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class tu extends sc{}class eu extends sc{constructor(e){super(),this.elements=e}}function mv(s,e){const i=pv(e);for(const a of s.elements)i.some((u=>si(u,a)))||i.push(a);return{arrayValue:{values:i}}}class nu extends sc{constructor(e){super(),this.elements=e}}function gv(s,e){let i=pv(e);for(const a of s.elements)i=i.filter((u=>!si(u,a)));return{arrayValue:{values:i}}}class Xo extends sc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Gy(s){return de(s.integerValue||s.doubleValue)}function pv(s){return od(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i){this.field=e,this.transform=i}}function CA(s,e){return s.field.isEqual(e.field)&&(function(a,u){return a instanceof eu&&u instanceof eu||a instanceof nu&&u instanceof nu?vs(a.elements,u.elements,si):a instanceof Xo&&u instanceof Xo?si(a.Ae,u.Ae):a instanceof tu&&u instanceof tu})(s.transform,e.transform)}class VA{constructor(e,i){this.version=e,this.transformResults=i}}class Pn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class lc{}function yv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new md(s.key,Pn.none()):new ru(s.key,s.data,Pn.none());{const i=s.data,a=nn.empty();let u=new be(ze.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new Dr(s.key,a,new fn(u.toArray()),Pn.none())}}function IA(s,e,i){s instanceof ru?(function(u,h,d){const y=u.value.clone(),v=Fy(u.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Dr?(function(u,h,d){if(!zo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=Fy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(_v(u)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(s,e,i,a){return s instanceof ru?(function(h,d,y,v){if(!zo(h.precondition,d))return y;const _=h.value.clone(),A=Yy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Dr?(function(h,d,y,v){if(!zo(h.precondition,d))return y;const _=Yy(h.fieldTransforms,v,d),A=d.data;return A.setAll(_v(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((D=>D.field)))})(s,e,i,a):(function(h,d,y){return zo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function NA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=dv(a.transform,u||null);h!=null&&(i===null&&(i=nn.empty()),i.set(a.field,h))}return i||null}function Qy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&vs(a,u,((h,d)=>CA(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ru extends lc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Dr extends lc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function _v(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Fy(s,e,i){const a=new Map;zt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,y=e.data.field(h.field);a.set(h.field,wA(d,y,i[u]))}return a}function Yy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,RA(h,d,e))}return a}class md extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OA extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&IA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=hv();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const v=yv(d,y);v!==null&&a.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,((i,a)=>Qy(i,a)))&&vs(this.baseMutations,e.baseMutations,((i,a)=>Qy(i,a)))}}class gd{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){zt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let u=(function(){return EA})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new gd(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Nt;function LA(s){switch(s){case F.OK:return ft(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ft(15467,{code:s})}}function vv(s){if(s===void 0)return Vi("GRPC error has no .code"),F.UNKNOWN;switch(s){case ye.OK:return F.OK;case ye.CANCELLED:return F.CANCELLED;case ye.UNKNOWN:return F.UNKNOWN;case ye.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ye.INTERNAL:return F.INTERNAL;case ye.UNAVAILABLE:return F.UNAVAILABLE;case ye.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ye.NOT_FOUND:return F.NOT_FOUND;case ye.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ye.ABORTED:return F.ABORTED;case ye.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ye.DATA_LOSS:return F.DATA_LOSS;default:return ft(39323,{code:s})}}(Nt=ye||(ye={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new yr([4294967295,4294967295],0);function Xy(s){const e=zA().encode(s),i=new x_;return i.update(e),new Uint8Array(i.digest())}function Ky(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new yr([i,a],0),new yr([u,h],0)]}class pd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(a<0)throw new ql(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=yr.fromNumber(this.ge)}ye(e,i,a){let u=e.add(i.multiply(yr.fromNumber(a)));return u.compare(PA)===1&&(u=new yr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Xy(e),[a,u]=Ky(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,u,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new pd(h,u,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=Xy(e),[a,u]=Ky(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new uc(yt.min(),u,new ie(Ct),Ii(),Vt())}}class au{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new au(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,i,a,u){this.be=e,this.removedTargetIds=i,this.key=a,this.De=u}}class Ev{constructor(e,i){this.targetId=e,this.Ce=i}}class Tv{constructor(e,i,a=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Zy{constructor(){this.ve=0,this.Fe=$y(),this.Me=Pe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:ft(38017,{changeType:h})}})),new au(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=$y()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ii(),this.Je=Oo(),this.He=Oo(),this.Ye=new ie(Ct)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ft(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,a=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(kf(h))if(a===0){const d=new ut(h.path);this.et(i,d,Qe.newNoDocument(d,yt.min()))}else zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=Ar(a).toUint8Array()}catch(v){if(v instanceof F_)return _s("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new pd(d,u,h)}catch(v){return _s(v instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let u=0;return a.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&kf(y.target)){const v=new ut(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Qe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=Vt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new uc(e,i,this.Ye,this.je,a);return this.je=Ii(),this.Je=Oo(),this.He=Oo(),this.Ye=new ie(Ct),u}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Zy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new be(Ct),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new be(Ct),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zy),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Oo(){return new ie(ut.comparator)}function $y(){return new ie(ut.comparator)}const qA={asc:"ASCENDING",desc:"DESCENDING"},kA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HA={and:"AND",or:"OR"};class jA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Gf(s,e){return s.useProto3Json||nc(e)?e:{value:e}}function Ko(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Av(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function GA(s,e){return Ko(s,e.toTimestamp())}function ni(s){return zt(!!s,49232),yt.fromTimestamp((function(i){const a=Tr(i);return new Jt(a.seconds,a.nanos)})(s))}function yd(s,e){return Qf(s,e).canonicalString()}function Qf(s,e){const i=(function(u){return new Zt(["projects",u.projectId,"databases",u.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Sv(s){const e=Zt.fromString(s);return zt(Cv(e),10190,{key:e.toString()}),e}function Ff(s,e){return yd(s.databaseId,e.path)}function Df(s,e){const i=Sv(e);if(i.get(1)!==s.databaseId.projectId)throw new et(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new et(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(Rv(i))}function bv(s,e){return yd(s.databaseId,e)}function QA(s){const e=Sv(s);return e.length===4?Zt.emptyPath():Rv(e)}function Yf(s){return new Zt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Rv(s){return zt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Jy(s,e,i){return{name:Ff(s,e),fields:i.value.mapValue.fields}}function FA(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ft(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(zt(A===void 0||typeof A=="string",58123),Pe.fromBase64String(A||"")):(zt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Pe.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?F.UNKNOWN:vv(_.code);return new et(A,_.message||"")})(d);i=new Tv(a,u,h,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Df(s,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):yt.min(),y=new nn({mapValue:{fields:a.document.fields}}),v=Qe.newFoundDocument(u,h,d,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Po(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Df(s,a.document),h=a.readTime?ni(a.readTime):yt.min(),d=Qe.newNoDocument(u,h),y=a.removedTargetIds||[];i=new Po([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Df(s,a.document),h=a.removedTargetIds||[];i=new Po([],h,u,null)}else{if(!("filter"in e))return ft(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new UA(u,h),y=a.targetId;i=new Ev(y,d)}}return i}function YA(s,e){let i;if(e instanceof ru)i={update:Jy(s,e.key,e.value)};else if(e instanceof md)i={delete:Ff(s,e.key)};else if(e instanceof Dr)i={update:Jy(s,e.key,e.data),updateMask:nS(e.fieldMask)};else{if(!(e instanceof OA))return ft(16599,{Vt:e.type});i={verify:Ff(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const y=d.transform;if(y instanceof tu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof nu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Xo)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw ft(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:GA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft(27497)})(s,e.precondition)),i}function XA(s,e){return s&&s.length>0?(zt(e!==void 0,14353),s.map((i=>(function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(yt.min())&&(d=ni(h)),new VA(d,u.transformResults||[])})(i,e)))):[]}function KA(s,e){return{documents:[bv(s,e.path)]}}function ZA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=bv(s,u);const h=(function(_){if(_.length!==0)return Dv(Bn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:ms(M.field),direction:WA(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Gf(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function $A(s){let e=QA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){zt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(D){const M=wv(D);return M instanceof Bn&&nv(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(D){return D.map((M=>(function(J){return new Wl(gs(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(D){let M;return M=typeof D=="object"?D.value:D,nc(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(D){const M=!!D.before,Q=D.values||[];return new Yo(Q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(D){const M=!D.before,Q=D.values||[];return new Yo(Q,M)})(i.endAt)),gA(e,u,d,h,y,"F",v,_)}function JA(s,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function wv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=gs(i.unaryFilter.field);return _e.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=gs(i.unaryFilter.field);return _e.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=gs(i.unaryFilter.field);return _e.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gs(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(s):s.fieldFilter!==void 0?(function(i){return _e.create(gs(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Bn.create(i.compositeFilter.filters.map((a=>wv(a))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(s):ft(30097,{filter:s})}function WA(s){return qA[s]}function tS(s){return kA[s]}function eS(s){return HA[s]}function ms(s){return{fieldPath:s.canonicalString()}}function gs(s){return ze.fromServerFormat(s.fieldPath)}function Dv(s){return s instanceof _e?(function(i){if(i.op==="=="){if(By(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NAN"}};if(Py(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(By(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NAN"}};if(Py(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(i.field),op:tS(i.op),value:i.value}}})(s):s instanceof Bn?(function(i){const a=i.getFilters().map((u=>Dv(u)));return a.length===1?a[0]:{compositeFilter:{op:eS(i.op),filters:a}}})(s):ft(54877,{filter:s})}function nS(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Cv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,i,a,u,h=yt.min(),d=yt.min(),y=Pe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.yt=e}}function rS(s){const e=$A({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?jf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.Cn=new sS}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Er.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class sS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be(Zt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(Vv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new As(0)}static cr(){return new As(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="LruGarbageCollector",lS=1048576;function e_([s,e],[i,a]){const u=Ct(s,i);return u===0?Ct(e,a):u}class uS{constructor(e){this.Ir=e,this.buffer=new be(e_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();e_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(t_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ds(i)?it(t_,"Ignoring IndexedDB error during garbage collection: ",i):await ws(i)}await this.Vr(3e5)}))}}class cS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(ec.ce);const a=new uS(i);return this.mr.forEachTarget(e,(u=>a.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>a.Ar(u))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Wy)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wy):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,u,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((D=>(D>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),u=this.params.maximumSequenceNumbersToCollect):u=D,d=Date.now(),this.nthSequenceNumber(e,u)))).next((D=>(a=D,y=Date.now(),this.removeTargets(e,a,i)))).next((D=>(h=D,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((D=>(_=Date.now(),fs()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${D} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:D}))))}}function hS(s,e){return new cS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.changes=new va((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(a=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(a!==null&&Fl(a.mutation,u,fn.empty(),Jt.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Vt()){const u=da();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,a).next((h=>{let d=Bl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=da();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Vt())))}populateOverlays(e,i,a){const u=[];return a.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,u){let h=Ii();const d=Ql(),y=(function(){return Ql()})();return i.forEach(((v,_)=>{const A=a.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Dr)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Fl(A.mutation,_,A.mutation.getFieldMask(),Jt.now())):d.set(_.key,fn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new dS(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Ql();let u=new ie(((d,y)=>d-y)),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||fn.empty();A=y.applyToLocalView(_,A),a.set(v,A);const D=(u.get(y.batchId)||Vt()).add(v);u=u.insert(y.batchId,D)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,D=hv();A.forEach((M=>{if(!h.has(M)){const Q=yv(i.get(M),a.get(M));Q!==null&&D.set(M,Q),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,D))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,u){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):sv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):X.resolve(da());let y=Kl,v=h;return d.next((_=>X.forEach(_,((A,D)=>(y<D.largestBatchId&&(y=D.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Vt()))).next((A=>({batchId:y,changes:cv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next((a=>{let u=Bl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next((y=>X.forEach(y,(v=>{const _=(function(D,M){return new Cs(M,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,u).next((A=>{A.forEach(((D,M)=>{d=d.insert(D,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))}));let y=Bl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Fl(A.mutation,_,fn.empty(),Jt.now()),ac(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:rS(u.bundledQuery),readTime:ni(u.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.overlays=new ie(ut.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=da();return X.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&a.set(u,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((u,h)=>{this.St(e,i,h)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.qr.get(a);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const u=da(),h=i.length+1,d=new ut(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&u.set(v.getKey(),v)}return X.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ie(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=da(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=da(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=u)););return X.resolve(y)}St(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(a.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new xA(i,a));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.Qr=new be(Ie.$r),this.Ur=new be(Ie.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ie(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ut(new Zt([])),a=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.Ur.forEachInRange([a,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ut(new Zt([])),a=new Ie(i,e),u=new Ie(i,e+1);let h=Vt();return this.Ur.forEachInRange([a,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ie(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ut.comparator(e.key,i.key)||Ct(e.Yr,i.Yr)}static Kr(e,i){return Ct(e.Yr,i.Yr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new be(Ie.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new MA(h,i,a,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new Ie(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ei(a),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ld:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(Ct);return i.forEach((u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{a=a.add(y.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ut.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ut(h),0);let y=new be(Ct);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const u=this.Xr(a);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(u=>{const h=new Ie(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ie(i,0),u=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.ri=e,this.docs=(function(){return new ie(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Ii();return i.forEach((u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ii();const d=i.path,y=new ut(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Y1(F1(A),a)<=0||(u.has(A.key)||ac(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,a,u){ft(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new ES(this)}getSize(e){return X.resolve(this.size)}}class ES extends fS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.persistence=e,this.si=new va((i=>cd(i)),hd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new _d,this.targetCount=0,this.ai=As.ur()}forEachTarget(e,i){return this.si.forEach(((a,u)=>i(u))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new As(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),X.waitFor(h).next((()=>u))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,i){this.ui={},this.overlays={},this.ci=new ec(0),this.li=!1,this.li=!0,this.hi=new yS,this.referenceDelegate=e(this),this.Pi=new TS(this),this.indexManager=new aS,this.remoteDocumentCache=(function(u){return new vS(u)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new iS(i),this.Ii=new gS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new _S(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new AS(this.ci.next());return this.referenceDelegate.Ei(),a(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class AS extends K1{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.Ri=new _d,this.Vi=null}static mi(e){return new vd(e)}get fi(){if(this.Vi)return this.Vi;throw ft(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const u=ut.fromPath(a);return this.gi(e,u).next((h=>{h||i.removeEntry(u,yt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Zo{constructor(e,i){this.persistence=e,this.pi=new va((a=>J1(a.path)),((a,u)=>a.isEqual(u))),this.garbageCollector=hS(this,i)}static mi(e,i){return new Zo(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((u=>a+u))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,u)=>this.br(e,a,u).next((h=>h?X.resolve():i(u)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uo(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return X.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=u}static As(e,i){let a=Vt(),u=Vt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Ed(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mT()?8:Z1(fT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new SS;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,a,u){return a.documentReadCount<this.fs?(fs()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(fs()<=Ot.DEBUG&&it("QueryEngine","Query:",ds(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.gs*u?(fs()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):X.resolve())}ys(e,i){if(jy(i))return X.resolve(null);let a=ei(i);return this.indexManager.getIndexType(e,a).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=jf(i,null,"F"),a=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=Vt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,jf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,u){return jy(i)||u.isEqual(yt.min())?X.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,u)?X.resolve(null):(fs()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ds(i)),this.vs(e,d,i,Q1(u,Kl)).next((y=>y)))}))}Ds(e,i){let a=new be(uv(e));return i.forEach(((u,h)=>{ac(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,a){return fs()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ds(i)),this.ps.getDocumentsMatchingQuery(e,i,Er.min(),a)}vs(e,i,a,u){return this.ps.getDocumentsMatchingQuery(e,a,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="LocalStore",RS=3e8;class wS{constructor(e,i,a,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new ie(Ct),this.xs=new va((h=>cd(h)),hd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function DS(s,e,i,a){return new wS(s,e,i,a)}async function Nv(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],y=[];let v=Vt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function CS(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const D=_.batch,M=D.keys();let Q=X.resolve();return M.forEach((J=>{Q=Q.next((()=>A.getEntry(v,J))).next((rt=>{const Z=_.docVersions.get(J);zt(Z!==null,48541),rt.version.compareTo(Z)<0&&(D.applyToRemoteDocument(rt,_),rt.isValidDocument()&&(rt.setReadTime(_.commitVersion),A.addEntry(rt)))}))})),Q.next((()=>y.mutationQueue.removeMutationBatch(v,D)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let v=Vt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,u)))}))}function Ov(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function VS(s,e){const i=vt(s),a=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((A,D)=>{const M=u.get(D);if(!M)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,D).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,D))));let Q=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?Q=Q.withResumeToken(Pe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),u=u.insert(D,Q),(function(rt,Z,At){return rt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=RS?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0})(M,Q,A)&&y.push(i.Pi.updateTargetData(h,Q))}));let v=Ii(),_=Vt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(IS(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!a.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((D=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));y.push(A)}return X.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function IS(s,e,i){let a=Vt(),u=Vt();return i.forEach((h=>a=a.add(h))),e.getEntries(s,a).next((h=>{let d=Ii();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):it(Td,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function NS(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=ld),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function OS(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let u;return i.Pi.getTargetData(a,e).next((h=>h?(u=h,X.resolve(u)):i.Pi.allocateTargetId(a).next((d=>(u=new mr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,u).next((()=>u)))))))})).then((a=>{const u=i.Ms.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Xf(s,e,i){const a=vt(s),u=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Ds(d))throw d;it(Td,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(u.target)}function n_(s,e,i){const a=vt(s);let u=yt.min(),h=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const D=vt(v),M=D.xs.get(A);return M!==void 0?X.resolve(D.Ms.get(M)):D.Pi.getTargetData(_,A)})(a,d,ei(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?h:Vt()))).next((y=>(MS(a,yA(e),y),{documents:y,Qs:h})))))}function MS(s,e,i){let a=s.Os.get(e)||yt.min();i.forEach(((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Os.set(e,a)}class i_{constructor(){this.activeTargetIds=SA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xS{constructor(){this.Mo=new i_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new i_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="ConnectivityMonitor";class a_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(r_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(r_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo=null;function Kf(){return Mo===null?Mo=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mo++,"0x"+Mo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="RestConnection",LS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${u}`,this.Wo=this.databaseId.database===Qo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Go(e,i,a,u,h){const d=Kf(),y=this.zo(e,i.toUriEncodedString());it(Cf,`Sending RPC '${e}' ${d}:`,y,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(y),A=id(_);return this.Jo(e,y,v,a,A).then((D=>(it(Cf,`Received RPC '${e}' ${d}: `,D),D)),(D=>{throw _s(Cf,`RPC '${e}' ${d} failed with error: `,D,"url: ",y,"request:",a),D}))}Ho(e,i,a,u,h,d){return this.Go(e,i,a,u,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),a&&a.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const a=LS[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class BS extends zS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=Kf();return new Promise(((y,v)=>{const _=new U_;_.setWithCredentials(!0),_.listenOnce(L_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case xo.NO_ERROR:const D=_.getResponseJson();it(je,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),y(D);break;case xo.TIMEOUT:it(je,`RPC '${e}' ${d} timed out`),v(new et(F.DEADLINE_EXCEEDED,"Request time out"));break;case xo.HTTP_ERROR:const M=_.getStatus();if(it(je,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const rt=(function(At){const Et=At.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(Et)>=0?Et:F.UNKNOWN})(J.status);v(new et(rt,J.message))}else v(new et(F.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new et(F.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(je,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);it(je,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const u=Kf(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=B_(),y=P_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");it(je,`Creating RPC '${e}' stream ${u}: ${A}`,v);const D=d.createWebChannel(A,v);this.I_(D);let M=!1,Q=!1;const J=new PS({Yo:Z=>{Q?it(je,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(M||(it(je,`Opening RPC '${e}' stream ${u} transport.`),D.open(),M=!0),it(je,`RPC '${e}' stream ${u} sending:`,Z),D.send(Z))},Zo:()=>D.close()}),rt=(Z,At,Et)=>{Z.listen(At,(gt=>{try{Et(gt)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return rt(D,Pl.EventType.OPEN,(()=>{Q||(it(je,`RPC '${e}' stream ${u} transport opened.`),J.o_())})),rt(D,Pl.EventType.CLOSE,(()=>{Q||(Q=!0,it(je,`RPC '${e}' stream ${u} transport closed`),J.a_(),this.E_(D))})),rt(D,Pl.EventType.ERROR,(Z=>{Q||(Q=!0,_s(je,`RPC '${e}' stream ${u} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new et(F.UNAVAILABLE,"The operation could not be completed")))})),rt(D,Pl.EventType.MESSAGE,(Z=>{if(!Q){const At=Z.data[0];zt(!!At,16349);const Et=At,gt=Et?.error||Et[0]?.error;if(gt){it(je,`RPC '${e}' stream ${u} received error:`,gt);const Ft=gt.status;let pt=(function(S){const w=ye[S];if(w!==void 0)return vv(w)})(Ft),Mt=gt.message;pt===void 0&&(pt=F.INTERNAL,Mt="Unknown error status: "+Ft+" with message "+gt.message),Q=!0,J.a_(new et(pt,Mt)),D.close()}else it(je,`RPC '${e}' stream ${u} received:`,At),J.u_(At)}})),rt(y,z_.STAT_EVENT,(Z=>{Z.stat===Lf.PROXY?it(je,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Lf.NOPROXY&&it(je,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(s){return new jA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="PersistentStream";class xv{constructor(e,i,a,u,h,d,y,v){this.Mi=e,this.S_=a,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Mv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===F.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,u])=>{this.D_===i&&this.G_(a,u)}),(a=>{e((()=>{const u=new et(F.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(u)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{a((()=>this.z_(u)))})),this.stream.onMessage((u=>{a((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(s_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(s_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qS extends xv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=FA(this.serializer,e),a=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ni(d.readTime):yt.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Yf(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=kf(v)?{documents:KA(h,v)}:{query:ZA(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Av(h,d.resumeToken);const _=Gf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){y.readTime=Ko(h,d.snapshotVersion.toTimestamp());const _=Gf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=JA(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Yf(this.serializer),i.removeTarget=e,this.q_(i)}}class kS extends xv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return zt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,zt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){zt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=XA(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Yf(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>YA(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{}class jS extends HS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new et(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Qf(i,a),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new et(F.UNKNOWN,h.toString())}))}Ho(e,i,a,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Qf(i,a),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new et(F.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class QS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Ea(this)&&(it(ya,"Restarting streams for network reachability change."),await(async function(v){const _=vt(v);_.Ea.add(4),await su(_),_.Ra.set("Unknown"),_.Ea.delete(4),await cc(_)})(this))}))})),this.Ra=new GS(a,u)}}async function cc(s){if(Ea(s))for(const e of s.da)await e(!0)}async function su(s){for(const e of s.da)await e(!1)}function Uv(s,e){const i=vt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Rd(i)?bd(i):Vs(i).O_()&&Sd(i,e))}function Ad(s,e){const i=vt(s),a=Vs(i);i.Ia.delete(e),a.O_()&&Lv(i,e),i.Ia.size===0&&(a.O_()?a.L_():Ea(i)&&i.Ra.set("Unknown"))}function Sd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Vs(s).Y_(e)}function Lv(s,e){s.Va.Ue(e),Vs(s).Z_(e)}function bd(s){s.Va=new BA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Vs(s).start(),s.Ra.ua()}function Rd(s){return Ea(s)&&!Vs(s).x_()&&s.Ia.size>0}function Ea(s){return vt(s).Ea.size===0}function zv(s){s.Va=void 0}async function FS(s){s.Ra.set("Online")}async function YS(s){s.Ia.forEach(((e,i)=>{Sd(s,e)}))}async function XS(s,e){zv(s),Rd(s)?(s.Ra.ha(e),bd(s)):s.Ra.set("Unknown")}async function KS(s,e,i){if(s.Ra.set("Online"),e instanceof Tv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(s,e)}catch(a){it(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await $o(s,a)}else if(e instanceof Po?s.Va.Ze(e):e instanceof Ev?s.Va.st(e):s.Va.tt(e),!i.isEqual(yt.min()))try{const a=await Ov(s.localStore);i.compareTo(a)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Pe.EMPTY_BYTE_STRING,A.snapshotVersion)),Lv(h,v);const D=new mr(A.target,v,_,A.sequenceNumber);Sd(h,D)})),h.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){it(ya,"Failed to raise snapshot:",a),await $o(s,a)}}async function $o(s,e,i){if(!Ds(e))throw e;s.Ea.add(1),await su(s),s.Ra.set("Offline"),i||(i=()=>Ov(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(ya,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await cc(s)}))}function Pv(s,e){return e().catch((i=>$o(s,i,e)))}async function hc(s){const e=vt(s),i=br(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ld;for(;ZS(e);)try{const u=await NS(e.localStore,a);if(u===null){e.Ta.length===0&&i.L_();break}a=u.batchId,$S(e,u)}catch(u){await $o(e,u)}Bv(e)&&qv(e)}function ZS(s){return Ea(s)&&s.Ta.length<10}function $S(s,e){s.Ta.push(e);const i=br(s);i.O_()&&i.X_&&i.ea(e.mutations)}function Bv(s){return Ea(s)&&!br(s).x_()&&s.Ta.length>0}function qv(s){br(s).start()}async function JS(s){br(s).ra()}async function WS(s){const e=br(s);for(const i of s.Ta)e.ea(i.mutations)}async function tb(s,e,i){const a=s.Ta.shift(),u=gd.from(a,e,i);await Pv(s,(()=>s.remoteSyncer.applySuccessfulWrite(u))),await hc(s)}async function eb(s,e){e&&br(s).X_&&await(async function(a,u){if((function(d){return LA(d)&&d!==F.ABORTED})(u.code)){const h=a.Ta.shift();br(a).B_(),await Pv(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u))),await hc(a)}})(s,e),Bv(s)&&qv(s)}async function l_(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),it(ya,"RemoteStore received new credentials");const a=Ea(i);i.Ea.add(3),await su(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await cc(i)}async function nb(s,e){const i=vt(s);e?(i.Ea.delete(2),await cc(i)):e||(i.Ea.add(2),await su(i),i.Ra.set("Unknown"))}function Vs(s){return s.ma||(s.ma=(function(i,a,u){const h=vt(i);return h.sa(),new qS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(s.datastore,s.asyncQueue,{Xo:FS.bind(null,s),t_:YS.bind(null,s),r_:XS.bind(null,s),H_:KS.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Rd(s)?bd(s):s.Ra.set("Unknown")):(await s.ma.stop(),zv(s))}))),s.ma}function br(s){return s.fa||(s.fa=(function(i,a,u){const h=vt(i);return h.sa(),new kS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:JS.bind(null,s),r_:eb.bind(null,s),ta:WS.bind(null,s),na:tb.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await hc(s)):(await s.fa.stop(),s.Ta.length>0&&(it(ya,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,y=new wd(e,i,d,u,h);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(s,e){if(Vi("AsyncQueue",`${e}: ${s}`),Ds(s))return new et(F.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{static emptySet(e){return new ys(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ut.comparator(i.key,a.key):(i,a)=>ut.comparator(i.key,a.key),this.keyedMap=Bl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ys;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.ga=new ie(ut.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ft(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Ss{constructor(e,i,a,u,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Ss(e,i,ys.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rb{constructor(){this.queries=o_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const u=vt(i),h=u.queries;u.queries=o_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(a)}))})(this,new et(F.ABORTED,"Firestore shutting down"))}}function o_(){return new va((s=>lv(s)),rc)}async function kv(s,e){const i=vt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(a=2):(h=new ib,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=Dd(d,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Cd(i)}async function Hv(s,e){const i=vt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ab(s,e){const i=vt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(a=!0);d.wa=u}}a&&Cd(i)}function sb(s,e,i){const a=vt(s),u=a.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);a.queries.delete(e)}function Cd(s){s.Ca.forEach((e=>{e.next()}))}var Zf,c_;(c_=Zf||(Zf={})).Ma="default",c_.Cache="cache";class jv{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new Ss(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.key=e}}class Qv{constructor(e){this.key=e}}class lb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=uv(e),this.tu=new ys(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new u_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,D)=>{const M=u.get(A),Q=ac(this.query,D)?D:null,J=!!M&&this.mutatedKeys.has(M.key),rt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Z=!1;M&&Q?M.data.isEqual(Q.data)?J!==rt&&(a.track({type:3,doc:Q}),Z=!0):this.su(M,Q)||(a.track({type:2,doc:Q}),Z=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(y=!0)):!M&&Q?(a.track({type:0,doc:Q}),Z=!0):M&&!Q&&(a.track({type:1,doc:M}),Z=!0,(v||_)&&(y=!0)),Z&&(Q?(d=d.add(Q),h=rt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,D)=>(function(Q,J){const rt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Rt:Z})}};return rt(Q)-rt(J)})(A.type,D.type)||this.eu(A.doc,D.doc))),this.ou(a),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ss(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new Qv(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new Gv(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ss.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vd="SyncEngine";class ub{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class ob{constructor(e){this.key=e,this.hu=!1}}class cb{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new va((y=>lv(y)),rc),this.Iu=new Map,this.Eu=new Set,this.du=new ie(ut.comparator),this.Au=new Map,this.Ru=new _d,this.Vu={},this.mu=new Map,this.fu=As.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hb(s,e,i=!0){const a=$v(s);let u;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await Fv(a,e,i,!0),u}async function fb(s,e){const i=$v(s);await Fv(i,e,!0,!1)}async function Fv(s,e,i,a){const u=await OS(s.localStore,ei(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return a&&(y=await db(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Uv(s.remoteStore,u),y}async function db(s,e,i,a,u){s.pu=(D,M,Q)=>(async function(rt,Z,At,Et){let gt=Z.view.ru(At);gt.Cs&&(gt=await n_(rt.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,gt))));const Ft=Et&&Et.targetChanges.get(Z.targetId),pt=Et&&Et.targetMismatches.get(Z.targetId)!=null,Mt=Z.view.applyChanges(gt,rt.isPrimaryClient,Ft,pt);return f_(rt,Z.targetId,Mt.au),Mt.snapshot})(s,D,M,Q);const h=await n_(s.localStore,e,!0),d=new lb(e,h.Qs),y=d.ru(h.documents),v=au.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),_=d.applyChanges(y,s.isPrimaryClient,v);f_(s,i,_.au);const A=new ub(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function mb(s,e,i){const a=vt(s),u=a.Tu.get(e),h=a.Iu.get(u.targetId);if(h.length>1)return a.Iu.set(u.targetId,h.filter((d=>!rc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Xf(a.localStore,u.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(u.targetId),i&&Ad(a.remoteStore,u.targetId),$f(a,u.targetId)})).catch(ws)):($f(a,u.targetId),await Xf(a.localStore,u.targetId,!0))}async function gb(s,e){const i=vt(s),a=i.Tu.get(e),u=i.Iu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ad(i.remoteStore,a.targetId))}async function pb(s,e,i){const a=Sb(s);try{const u=await(function(d,y){const v=vt(d),_=Jt.now(),A=y.reduce(((Q,J)=>Q.add(J.key)),Vt());let D,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let J=Ii(),rt=Vt();return v.Ns.getEntries(Q,A).next((Z=>{J=Z,J.forEach(((At,Et)=>{Et.isValidDocument()||(rt=rt.add(At))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,J))).next((Z=>{D=Z;const At=[];for(const Et of y){const gt=NA(Et,D.get(Et.key).overlayedDocument);gt!=null&&At.push(new Dr(Et.key,gt,W_(gt.value.mapValue),Pn.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,At,y)})).next((Z=>{M=Z;const At=Z.applyToLocalDocumentSet(D,rt);return v.documentOverlayCache.saveOverlays(Q,Z.batchId,At)}))})).then((()=>({batchId:M.batchId,changes:cv(D)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ie(Ct)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(a,u.batchId,i),await lu(a,u.changes),await hc(a.remoteStore)}catch(u){const h=Dd(u,"Failed to persist write");i.reject(h)}}async function Yv(s,e){const i=vt(s);try{const a=await VS(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(zt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?zt(d.hu,14607):u.removedDocuments.size>0&&(zt(d.hu,42227),d.hu=!1))})),await lu(i,a,e)}catch(a){await ws(a)}}function h_(s,e,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=vt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,D)=>{for(const M of D.Sa)M.va(y)&&(_=!0)})),_&&Cd(v)})(a.eventManager,e),u.length&&a.Pu.H_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function yb(s,e,i){const a=vt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Au.get(e),h=u&&u.key;if(h){let d=new ie(ut.comparator);d=d.insert(h,Qe.newNoDocument(h,yt.min()));const y=Vt().add(h),v=new uc(yt.min(),new Map,new ie(Ct),d,y);await Yv(a,v),a.du=a.du.remove(h),a.Au.delete(e),Id(a)}else await Xf(a.localStore,e,!1).then((()=>$f(a,e,i))).catch(ws)}async function _b(s,e){const i=vt(s),a=e.batch.batchId;try{const u=await CS(i.localStore,e);Kv(i,a,null),Xv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await lu(i,u)}catch(u){await ws(u)}}async function vb(s,e,i){const a=vt(s);try{const u=await(function(d,y){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((D=>(zt(D!==null,37113),A=D.keys(),v.mutationQueue.removeMutationBatch(_,D)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);Kv(a,e,i),Xv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await lu(a,u)}catch(u){await ws(u)}}function Xv(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Kv(s,e,i){const a=vt(s);let u=a.Vu[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Vu[a.currentUser.toKey()]=u}}function $f(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||Zv(s,a)}))}function Zv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Ad(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Id(s))}function f_(s,e,i){for(const a of i)a instanceof Gv?(s.Ru.addReference(a.key,e),Eb(s,a)):a instanceof Qv?(it(Vd,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||Zv(s,a.key)):ft(19791,{wu:a})}function Eb(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(it(Vd,"New document in limbo: "+i),s.Eu.add(a),Id(s))}function Id(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ut(Zt.fromString(e)),a=s.fu.next();s.Au.set(a,new ob(i)),s.du=s.du.insert(i,a),Uv(s.remoteStore,new mr(ei(fd(i.path)),a,"TargetPurposeLimboResolution",ec.ce))}}async function lu(s,e,i){const a=vt(s),u=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=Ed.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),a.Pu.H_(u),await(async function(v,_){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(D=>X.forEach(_,(M=>X.forEach(M.Es,(Q=>A.persistence.referenceDelegate.addReference(D,M.targetId,Q))).next((()=>X.forEach(M.ds,(Q=>A.persistence.referenceDelegate.removeReference(D,M.targetId,Q)))))))))}catch(D){if(!Ds(D))throw D;it(Td,"Failed to update sequence numbers: "+D)}for(const D of _){const M=D.targetId;if(!D.fromCache){const Q=A.Ms.get(M),J=Q.snapshotVersion,rt=Q.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(M,rt)}}})(a.localStore,h))}async function Tb(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){it(Vd,"User change. New user:",e.toKey());const a=await Nv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new et(F.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await lu(i,a.Ls)}}function Ab(s,e){const i=vt(s),a=i.Au.get(e);if(a&&a.hu)return Vt().add(a.key);{let u=Vt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function $v(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ab.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yb.bind(null,e),e.Pu.H_=ab.bind(null,e.eventManager),e.Pu.yu=sb.bind(null,e.eventManager),e}function Sb(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_b.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vb.bind(null,e),e}class Jo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return DS(this.persistence,new bS,e.initialUser,this.serializer)}Cu(e){return new Iv(vd.mi,this.serializer)}Du(e){return new xS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jo.provider={build:()=>new Jo};class bb extends Jo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){zt(this.persistence.referenceDelegate instanceof Zo,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new oS(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Iv((a=>Zo.mi(a,i)),this.serializer)}}class Jf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>h_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tb.bind(null,this.syncEngine),await nb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rb})()}createDatastore(e){const i=oc(e.databaseInfo.databaseId),a=(function(h){return new BS(h)})(e.databaseInfo);return(function(h,d,y,v){return new jS(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,u,h,d,y){return new QS(a,u,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>h_(this.syncEngine,i,0)),(function(){return a_.v()?new a_:new US})())}createSyncEngine(e,i){return(function(u,h,d,y,v,_,A){const D=new cb(u,h,d,y,v,_);return A&&(D.gu=!0),D})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=vt(i);it(ya,"RemoteStore shutting down."),a.Ea.add(5),await su(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jf.provider={build:()=>new Jf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="FirestoreClient";class Rb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=sd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{it(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Dd(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function If(s,e){s.asyncQueue.verifyOperationInProgress(),it(Rr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async u=>{a.isEqual(u)||(await Nv(e.localStore,u),a=u)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function d_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await wb(s);it(Rr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>l_(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,u)=>l_(e.remoteStore,u))),s._onlineComponents=e}async function wb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Rr,"Using user provided OfflineComponentProvider");try{await If(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===F.FAILED_PRECONDITION||u.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;_s("Error using user provided cache. Falling back to memory cache: "+i),await If(s,new Jo)}}else it(Rr,"Using default OfflineComponentProvider"),await If(s,new bb(void 0));return s._offlineComponents}async function Wv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Rr,"Using user provided OnlineComponentProvider"),await d_(s,s._uninitializedComponentsProvider._online)):(it(Rr,"Using default OnlineComponentProvider"),await d_(s,new Jf))),s._onlineComponents}function Db(s){return Wv(s).then((e=>e.syncEngine))}async function Wf(s){const e=await Wv(s),i=e.eventManager;return i.onListen=hb.bind(null,e.syncEngine),i.onUnlisten=mb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=fb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=gb.bind(null,e.syncEngine),i}function Cb(s,e,i={}){const a=new _r;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new Jv({next:M=>{A.Nu(),d.enqueueAndForget((()=>Hv(h,D))),M.fromCache&&v.source==="server"?_.reject(new et(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new jv(y,A,{includeMetadataChanges:!0,qa:!0});return kv(h,D)})(await Wf(s),s.asyncQueue,e,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="firestore.googleapis.com",g_=!0;class p_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eE,this.ssl=g_}else this.host=e.host,this.ssl=e.ssl??g_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lS)throw new et(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new et(F.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new et(F.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new et(F.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,u){return a.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new x1;switch(a.type){case"firstParty":return new P1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new et(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=m_.get(i);a&&(it("ComponentProvider","Removing Datastore"),m_.delete(i),a.terminate())})(this),Promise.resolve()}}function Vb(s,e,i,a={}){s=zn(s,fc);const u=id(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;u&&(lT(`https://${y}`),hT("Firestore",!0)),h.host!==eE&&h.host!==y&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:a};if(!ko(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Ge.MOCK_USER;else{_=uT(a.mockUserToken,s._app?.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new et(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ge(D)}s._authCredentials=new U1(new k_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Cr(this.firestore,e,this._query)}}class me{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new me(this.firestore,e,this._key)}toJSON(){return{type:me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(iu(i,me._jsonSchema))return new me(e,a||null,new ut(Zt.fromString(i.referencePath)))}}me._jsonSchemaVersion="firestore/documentReference/1.0",me._jsonSchema={type:ve("string",me._jsonSchemaVersion),referencePath:ve("string")};class vr extends Cr{constructor(e,i,a){super(e,i,fd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new me(this.firestore,null,new ut(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function $b(s,e,...i){if(s=ai(s),H_("collection","path",e),s instanceof fc){const a=Zt.fromString(e,...i);return Vy(a),new vr(s,null,a)}{if(!(s instanceof me||s instanceof vr))throw new et(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Zt.fromString(e,...i));return Vy(a),new vr(s.firestore,null,a)}}function Jb(s,e,...i){if(s=ai(s),arguments.length===1&&(e=sd.newId()),H_("doc","path",e),s instanceof fc){const a=Zt.fromString(e,...i);return Cy(a),new me(s,null,new ut(a))}{if(!(s instanceof me||s instanceof vr))throw new et(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Zt.fromString(e,...i));return Cy(a),new me(s.firestore,s instanceof vr?s.converter:null,new ut(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="AsyncQueue";class __{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Mv(this,"async_queue_retry"),this._c=()=>{const a=Vf();a&&it(y_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Vf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Vf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ds(e))throw e;it(y_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Vi("INTERNAL UNHANDLED ERROR: ",v_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=wd.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&ft(47125,{Pc:v_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function v_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1})(s,["next","error","complete"])}class _a extends fc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new __,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __(e),this._firestoreClient=void 0,await e}}}function Ib(s,e){const i=typeof s=="object"?s:T1(),a=typeof s=="string"?s:Qo,u=p1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=aT("firestore");h&&Vb(u,...h)}return u}function Nd(s){if(s._terminated)throw new et(F.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Nb(s),s._firestoreClient}function Nb(s){const e=s._freezeSettings(),i=(function(u,h,d,y){return new eA(u,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,tE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Rb(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rn(Pe.fromBase64String(e))}catch(i){throw new et(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Rn(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Rn._jsonSchema))return Rn.fromBase64String(e.bytes)}}Rn._jsonSchemaVersion="firestore/bytes/1.0",Rn._jsonSchema={type:ve("string",Rn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new et(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new et(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new et(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(iu(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:ve("string",ii._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ri(e.vectorValues);throw new et(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:ve("string",ri._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=/^__.*__$/;class Mb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ru(e,this.data,i,this.fieldTransforms)}}class nE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function iE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{Ac:s})}}class Od{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Od({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wo(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iE(this.Ac)&&Ob.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||oc(e)}Cc(e,i,a,u=!1){return new Od({Ac:e,methodName:i,Dc:a,path:ze.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(s){const e=s._freezeSettings(),i=oc(s._databaseId);return new xb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Ub(s,e,i,a,u,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,u);Ud("Data must be an object, but it was:",d,a);const y=rE(a,d);let v,_;if(h.merge)v=new fn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const M=td(e,D,i);if(!d.contains(M))throw new et(F.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);sE(A,M)||A.push(M)}v=new fn(A),_=d.fieldTransforms.filter((D=>v.covers(D.field)))}else v=null,_=d.fieldTransforms;return new Mb(new nn(y),v,_)}class gc extends mc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gc}}class xd extends mc{_toFieldTransform(e){return new DA(e.path,new tu)}isEqual(e){return e instanceof xd}}function Lb(s,e,i,a){const u=s.Cc(1,e,i);Ud("Data must be an object, but it was:",u,a);const h=[],d=nn.empty();wr(a,((v,_)=>{const A=Ld(e,v,i);_=ai(_);const D=u.yc(A);if(_ instanceof gc)h.push(A);else{const M=uu(_,D);M!=null&&(h.push(A),d.set(A,M))}}));const y=new fn(h);return new nE(d,y,u.fieldTransforms)}function zb(s,e,i,a,u,h){const d=s.Cc(1,e,i),y=[td(e,a,i)],v=[u];if(h.length%2!=0)throw new et(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<h.length;M+=2)y.push(td(e,h[M])),v.push(h[M+1]);const _=[],A=nn.empty();for(let M=y.length-1;M>=0;--M)if(!sE(_,y[M])){const Q=y[M];let J=v[M];J=ai(J);const rt=d.yc(Q);if(J instanceof gc)_.push(Q);else{const Z=uu(J,rt);Z!=null&&(_.push(Q),A.set(Q,Z))}}const D=new fn(_);return new nE(A,D,d.fieldTransforms)}function Pb(s,e,i,a=!1){return uu(i,s.Cc(a?4:3,e))}function uu(s,e){if(aE(s=ai(s)))return Ud("Unsupported field value:",e,s),rE(s,e);if(s instanceof mc)return(function(a,u){if(!iE(u.Ac))throw u.Sc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,u){const h=[];let d=0;for(const y of a){let v=uu(y,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(a,u){if((a=ai(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return bA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Jt.fromDate(a);return{timestampValue:Ko(u.serializer,h)}}if(a instanceof Jt){const h=new Jt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ko(u.serializer,h)}}if(a instanceof ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Rn)return{bytesValue:Av(u.serializer,a._byteString)};if(a instanceof me){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:yd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof ri)return(function(d,y){return{mapValue:{fields:{[$_]:{stringValue:J_},[Fo]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return dd(y.serializer,_)}))}}}}}})(a,u);throw u.Sc(`Unsupported field value: ${tc(a)}`)})(s,e)}function rE(s,e){const i={};return Q_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wr(s,((a,u)=>{const h=uu(u,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function aE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Jt||s instanceof ii||s instanceof Rn||s instanceof me||s instanceof mc||s instanceof ri)}function Ud(s,e,i){if(!aE(i)||!j_(i)){const a=tc(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function td(s,e,i){if((e=ai(e))instanceof dc)return e._internalPath;if(typeof e=="string")return Ld(s,e);throw Wo("Field path arguments must be of type string or ",s,!1,void 0,i)}const Bb=new RegExp("[~\\*/\\[\\]]");function Ld(s,e,i){if(e.search(Bb)>=0)throw Wo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new dc(...e.split("."))._internalPath}catch{throw Wo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Wo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${u}`),v+=")"),new et(F.INVALID_ARGUMENT,y+s+v)}function sE(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(zd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qb extends lE{data(){return super.data()}}function zd(s,e){return typeof e=="string"?Ld(s,e):e instanceof dc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new et(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pd{}class oE extends Pd{}function Wb(s,e,...i){let a=[];e instanceof Pd&&a.push(e),a=a.concat(i),(function(h){const d=h.filter((v=>v instanceof qd)).length,y=h.filter((v=>v instanceof Bd)).length;if(d>1||d>0&&y>0)throw new et(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const u of a)s=u._apply(s);return s}class Bd extends oE{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Bd(e,i,a)}_apply(e){const i=this._parse(e);return cE(e._query,i),new Cr(e.firestore,e.converter,Hf(e._query,i))}_parse(e){const i=Md(e.firestore);return(function(h,d,y,v,_,A,D){let M;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new et(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){A_(D,A);const J=[];for(const rt of D)J.push(T_(v,h,rt));M={arrayValue:{values:J}}}else M=T_(v,h,D)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||A_(D,A),M=Pb(y,d,D,A==="in"||A==="not-in");return _e.create(_,A,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class qd extends Pd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new qd(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Bn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(u,h){let d=u;const y=h.getFlattenedFilters();for(const v of y)cE(d,v),d=Hf(d,v)})(e._query,i),new Cr(e.firestore,e.converter,Hf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kd extends oE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new kd(e,i)}_apply(e){const i=(function(u,h,d){if(u.startAt!==null)throw new et(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new et(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(h,d)})(e._query,this._field,this._direction);return new Cr(e.firestore,e.converter,(function(u,h){const d=u.explicitOrderBy.concat([h]);return new Cs(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)})(e._query,i))}}function t2(s,e="asc"){const i=e,a=zd("orderBy",s);return kd._create(a,i)}function T_(s,e,i){if(typeof(i=ai(i))=="string"){if(i==="")throw new et(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sv(e)&&i.indexOf("/")!==-1)throw new et(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Zt.fromString(i));if(!ut.isDocumentKey(a))throw new et(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return zy(s,new ut(a))}if(i instanceof me)return zy(s,i._key);throw new et(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tc(i)}.`)}function A_(s,e){if(!Array.isArray(s)||s.length===0)throw new et(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cE(s,e){const i=(function(u,h){for(const d of u)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new et(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class kb{convertValue(e,i="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return wr(e,((u,h)=>{a[u]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[Fo].arrayValue?.values?.map((a=>de(a.doubleValue)));return new ri(i)}convertGeoPoint(e){return new ii(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ic(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=Tr(e);return new Jt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Zt.fromString(e);zt(Cv(a),9688,{name:e});const u=new $l(a.get(1),a.get(3)),h=new ut(a.popFirst(5));return u.isEqual(i)||Vi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends lE{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(zd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ma._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:ve("string",ma._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class Bo extends ma{data(e={}){return super.data(e)}}class ga{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new kl(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Bo(this._firestore,this._userDataWriter,a.key,a,new kl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new et(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Bo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new kl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Bo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new kl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:jb(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:s})}}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:ve("string",ga._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class Hd extends kb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new me(this.firestore,null,i)}}function e2(s){s=zn(s,Cr);const e=zn(s.firestore,_a),i=Nd(e),a=new Hd(e);return uE(s._query),Cb(i,s._query).then((u=>new ga(e,a,s,u)))}function n2(s,e,i){s=zn(s,me);const a=zn(s.firestore,_a),u=Hb(s.converter,e,i);return jd(a,[Ub(Md(a),"setDoc",s._key,u,s.converter!==null,i).toMutation(s._key,Pn.none())])}function i2(s,e,i,...a){s=zn(s,me);const u=zn(s.firestore,_a),h=Md(u);let d;return d=typeof(e=ai(e))=="string"||e instanceof dc?zb(h,"updateDoc",s._key,e,i,a):Lb(h,"updateDoc",s._key,e),jd(u,[d.toMutation(s._key,Pn.exists(!0))])}function r2(s){return jd(zn(s.firestore,_a),[new md(s._key,Pn.none())])}function a2(s,...e){s=ai(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||E_(e[a])||(i=e[a++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(E_(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let h,d,y;if(s instanceof me)d=zn(s.firestore,_a),y=fd(s._key.path),h={next:v=>{e[a]&&e[a](Gb(d,s,v))},error:e[a+1],complete:e[a+2]};else{const v=zn(s,Cr);d=zn(v.firestore,_a),y=v._query;const _=new Hd(d);h={next:A=>{e[a]&&e[a](new ga(d,_,v,A))},error:e[a+1],complete:e[a+2]},uE(s._query)}return(function(_,A,D,M){const Q=new Jv(M),J=new jv(A,Q,D);return _.asyncQueue.enqueueAndForget((async()=>kv(await Wf(_),J))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>Hv(await Wf(_),J)))}})(Nd(d),y,u,h)}function jd(s,e){return(function(a,u){const h=new _r;return a.asyncQueue.enqueueAndForget((async()=>pb(await Db(a),u,h))),h.promise})(Nd(s),e)}function Gb(s,e,i){const a=i.docs.get(e._key),u=new Hd(s);return new ma(s,u,e._key,a,new kl(i.hasPendingWrites,i.fromCache),e.converter)}function s2(){return new xd("serverTimestamp")}(function(e,i=!0){(function(u){Rs=u})(E1),jo(new Yl("firestore",((a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new _a(new L1(a.getProvider("auth-internal")),new B1(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new et(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,A)})(d,u),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),ps(by,Ry,e),ps(by,Ry,"esm2020")})();const Qb={apiKey:"AIzaSyCf3-lvqA9Yq1UqK2jZaRfU_717e81azPw",authDomain:"stock-game-9c4ad.firebaseapp.com",projectId:"stock-game-9c4ad",storageBucket:"stock-game-9c4ad.firebasestorage.app",messagingSenderId:"492817324587",appId:"1:492817324587:web:207daf8ab50ee4e21aa86e"},Fb=N_(Qb),l2=Ib(Fb);export{Kb as R,Jt as T,a2 as a,Xb as b,$b as c,l2 as d,Jb as e,r2 as f,e2 as g,s2 as h,Yb as j,t2 as o,Wb as q,k0 as r,n2 as s,i2 as u};
